Notes-project47-transcriptome.txt


</entry>



<entry [Wed Jun 23 23:45:02 EDT 2010] GENERATE VENN DIAGRAMS WITH transcriptsVenn.pl>




1. GENERATE VENN GROUPS (EXCEPT/ONLY AND INTERSECT/BOTH)


1 and 2 (LN vs LN)
------------------
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1
DIRS="chr*"
for DIR in $DIRS;
do
	echo $DIR;
	perl /nethome/bioinfo/apps/agua/0.5/bin/apps/transcriptsVenn.pl \
	--queryfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/$DIR/transcripts.gtf \
	--targetfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/$DIR/transcripts.gtf \
	--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/venn \
	--querylabel $DIR-analysis1 \
	--targetlabel $DIR-analysis2 \
	--xref /nethome/bioinfo/data/annotation/ucsc/knownGene/kgXref-table

done;




1 and 3 (LN vs CSPG)
--------------------
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1
DIRS="chr*"
for DIR in $DIRS;
do
	echo $DIR;
	perl /nethome/bioinfo/apps/agua/0.5/bin/apps/transcriptsVenn.pl \
	--queryfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/$DIR/transcripts.gtf \
	--targetfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis3/$DIR/transcripts.gtf \
	--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/venn \
	--querylabel $DIR-analysis1 \
	--targetlabel $DIR-analysis3 \
	--xref /nethome/bioinfo/data/annotation/ucsc/knownGene/kgXref-table

done;




3 and 4 (CSPG vs CSPG)
----------------------

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis3
DIRS="chr*"
for DIR in $DIRS;
do
	echo $DIR;
	perl /nethome/bioinfo/apps/agua/0.5/bin/apps/transcriptsVenn.pl \
	--queryfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis3/$DIR/transcripts.gtf \
	--targetfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis4/$DIR/transcripts.gtf \
	--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/venn \
	--querylabel $DIR-analysis3 \
	--targetlabel $DIR-analysis4 \
	--xref /nethome/bioinfo/data/annotation/ucsc/knownGene/kgXref-table

done;





2 and 4 (LN vs CSPG)
--------------------

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2
DIRS="chr*"
for DIR in $DIRS;
do
	echo $DIR;
	perl /nethome/bioinfo/apps/agua/0.5/bin/apps/transcriptsVenn.pl \
	--queryfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/$DIR/transcripts.gtf \
	--targetfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis4/$DIR/transcripts.gtf \
	--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/venn \
	--querylabel $DIR-analysis2 \
	--targetlabel $DIR-analysis4 \
	--xref /nethome/bioinfo/data/annotation/ucsc/knownGene/kgXref-table

done;





2. GENERATE A WHOLE-GENOME FILE FOR EACH COMPARISON


1 and 2 (LN vs LN)
------------------

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/venn

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-NOT-analysis2.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis1-NOT-chr*-analysis2 > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-NOT-analysis2.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis1.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis2-NOT-chr*-analysis1 > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis1.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis2.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis1-AND-chr*-analysis2 > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis2.txt



1 and 3 (LN vs CSPG)
--------------------

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/venn

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-NOT-analysis3.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis1-NOT-chr*-analysis3 > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-NOT-analysis3.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis1.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis3-NOT-chr*-analysis1 > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis1.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis3.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis1-AND-chr*-analysis3 > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis3.txt



3 and 4 (CSPG vs CSPG)
----------------------

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/venn

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis4.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis3-NOT-chr*-analysis4 > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis4.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis3.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis4-NOT-chr*-analysis3 > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis3.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-AND-analysis4.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis3-AND-chr*-analysis4 > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-AND-analysis4.txt




2 and 4 (LN vs CSPG)
--------------------

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/venn

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis4.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis2-NOT-chr*-analysis4 > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis4.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis2.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis4-NOT-chr*-analysis2 > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis2.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-AND-analysis4.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis2-AND-chr*-analysis4 > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-AND-analysis4.txt






3. GENERATE AN ***ANNOTATED*** WHOLE-GENOME FILE FOR EACH COMPARISON


1 and 2 (LN vs LN)
------------------

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/venn

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-NOT-analysis2-ANNOTATED.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis1-NOT-chr*-analysis2-ANNOTATED > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-NOT-analysis2-ANNOTATED.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis1-ANNOTATED.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis2-NOT-chr*-analysis1-ANNOTATED > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis1-ANNOTATED.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis2-ANNOTATED.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis1-AND-chr*-analysis2-ANNOTATED > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis2-ANNOTATED.txt



1 and 3 (LN vs CSPG)
--------------------

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/venn

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-NOT-analysis3-ANNOTATED.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis1-NOT-chr*-analysis3-ANNOTATED > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-NOT-analysis3-ANNOTATED.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis1-ANNOTATED.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis3-NOT-chr*-analysis1-ANNOTATED > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis1-ANNOTATED.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis3-ANNOTATED.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis1-AND-chr*-analysis3-ANNOTATED > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis3-ANNOTATED.txt



3 and 4 (CSPG vs CSPG)
----------------------

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/venn

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis4-ANNOTATED.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis3-NOT-chr*-analysis4-ANNOTATED > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis4-ANNOTATED.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis3-ANNOTATED.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis4-NOT-chr*-analysis3-ANNOTATED > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis3-ANNOTATED.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-AND-analysis4-ANNOTATED.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis3-AND-chr*-analysis4 > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-AND-analysis4-ANNOTATED.txt




2 and 4 (LN vs CSPG)
--------------------

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/venn

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis4-ANNOTATED.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis2-NOT-chr*-analysis4-ANNOTATED > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis4-ANNOTATED.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis2-ANNOTATED.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis4-NOT-chr*-analysis2-ANNOTATED > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis2-ANNOTATED.txt

rm -fr /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-AND-analysis4-ANNOTATED.txt
cat /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/chr*-analysis2-AND-chr*-analysis4-ANNOTATED > /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-AND-analysis4-ANNOTATED.txt





4. GET COUNTS FOR WHOLE GENOME


1 and 2 (LN vs LN)
------------------


lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-NOT-analysis2.txt
lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis1-ANNOTATED.txt
lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis2-ANNOTATED.txt

lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysi/scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-NOT-analysis2.txt: 1465

lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis1-ANNOTATED.txt
/scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis1-ANNOTATED.txt: 2511

lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis2-ANNOTATED.txt
/scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis2-ANNOTATED.txt: 25072



1 and 3 (LN vs CSPG)
--------------------


lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-NOT-analysis3-ANNOTATED.txt
lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis1-ANNOTATED.txt
lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis3-ANNOTATED.txt

 lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-NOT-analysis3-ANNOTATED.txt
lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysi/scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-NOT-analysis3-ANNOTATED.txt: 725
 lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis1-ANNOTATED.txt
/scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis1-ANNOTATED.txt: 4487
 lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis3-ANNOTATED.txt
/scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis1-AND-analysis3-ANNOTATED.txt: 25614


3 and 4 (CSPG vs CSPG)
----------------------


lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis4-ANNOTATED.txt
lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis3-ANNOTATED.txt
lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-AND-analysis4-ANNOTATED.txt


 lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis4-ANNOTATED.txt
lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysi/scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-NOT-analysis4-ANNOTATED.txt: 5866
 lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis3-ANNOTATED.txt
/scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis3-ANNOTATED.txt: 	
 lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-AND-analysis4-ANNOTATED.txt
/scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis3-AND-analysis4-ANNOTATED.txt: 24686


2 and 4 (LN vs CSPG)
--------------------

lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis4-ANNOTATED.txt
lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis2-ANNOTATED.txt
lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-AND-analysis4-ANNOTATED.txt


 
 
 
 
 lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis4-ANNOTATED.txt
lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysi/scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-NOT-analysis4-ANNOTATED.txt: 2678
 lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis2-ANNOTATED.txt
/scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis4-NOT-analysis2-ANNOTATED.txt: 1147
 lines /scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-AND-analysis4-ANNOTATED.txt
/scratch/syoung/base/pipeline/bixby/run1/tophat/venn/analysis2-AND-analysis4-ANNOTATED.txt: 24881
 




NOTES
------



1. FILTER '<TAB>transcript' LINES FROM transcripts.gtf FILES 


THE GENE IDS IN THE transcripts.gtf FILE:


head transcripts.gtf

	chrY    Cufflinks       transcript      6622    31738   1000    -       .       gene_id "uc009uyu.1"; transcript_id "uc009uyu.1"; RPKM "53.9340766766"; frac "1.000000"; conf_lo "0.000000"; conf_hi "0.000000"; cov "0.607097";
	chrY    Cufflinks       exon    6622    6919    1000    -       .       gene_id "uc009uyu.1"; transcript_id "uc009uyu.1"; exon_number "1"; RPKM "53.9340766766"; frac "1.000000"; conf_lo "0.000000"; conf_hi "0.000000"; cov "0.607097";


head transcripts-only.gtf

	chrY    Cufflinks       transcript      6622    31738   1000    -       .       gene_id "uc009uyu.1"; transcript_id "uc009uyu.1"; RPKM "53.9340766766"; frac "1.000000"; conf_lo "0.000000"; conf_hi "0.000000"; cov "0.607097";
	chrY    Cufflinks       transcript      61650   133852  1000    -       .       gene_id "uc009uyv.2"; transcript_id "uc009uyv.2"; RPKM "36.8056246792"; frac "1.000000"; conf_lo "0.000000"; conf_hi "0.000000"; cov "0.414295";




2. USE Filter.pm TO FILTER TWO FILES INTO A VENN DIAGRAM:

A + B ---> A-ONLY, A+B, B-ONLY





3. LOAD knownGene DESCRIPTIONS FILE AND LOOK UP DESCRIPTION, ETC. FOR EACH GENE IN OUTPUT FILES


head /nethome/bioinfo/data/annotation/ucsc/knownGene/kgXref-table

	#kgID	mRNA	spID	spDisplayID	geneSymbol	refseq	protAcc	description
	uc007afh.1	NM_008866	P97823	LYPA1_MOUSE	Lypla1	NM_008866	NP_032892	lysophospholipase 1
	uc007afg.1	AK050549	P97823-2	P97823-2	Lypla1	NM_008866	NP_032892	lysophospholipase 1
	uc007afi.1	NM_011541	P10711	TCEA1_MOUSE	Tcea1	NM_011541	NP_035671	transcription elongation factor A (SII) 1





4. LINK TO MOUSE GENES ON UCSC

http://mgc.ucsc.edu/cgi-bin/hgGene?db=mm9&hgg_gene=uc009uyv.2


... AND PROTEIN ALIGNMENTS E.G. MOUSE VS RAT

http://genome.ucsc.edu/cgi-bin/hgPal?g=knownGene&c=chrY&i=uc009uyv.2&db=mm9


... AND TO ALLEN BRAIN:

	uc00Database: mm9    Primary Table: knownToAllenBrain    Row Count: 29,267
	Format description: Map a primary ID to another type of ID, label, quantity etc.
	field	example	SQL type	info	description
	name	uc009vfo.1	varchar(255)	values	primary ID
	value	RP_050317_01_C03	varchar(255)	values	associated ID, label, quantity etc.





</entry>



<entry [Wed Jun 23 07:23:12 EDT 2010] SUMMARY OF ANALYSES>




EXPRESSION COVERAGE ANALYSIS


ANALYSIS 1 (LN, 7.31.09)
========================

1	CGN LN 7.31.09 	8 pM
2	CGN LN 7.31.09 	8 pM


ANALYSIS 2 (LN, 9.3.09)
========================

3	CGN LN 9.3.09 	8 pM
4	CGN LN 9.3.09 	8 pM


ANALYSIS 3 (CSPG, 7.31.09)
========================

6	CGN CSPG 7.31.09 	8 pM
7	CGN CSPG 7.31.09 	8 pM



ANALYSIS 4 (CSPG, 9.3.09)
========================

5   CGN CSPG 9.3.09     8 pM
8	CGN CSPG 9.3.09 	8 pM







group	analysis	sample	lanes	application	
1		1			1		1+2		TOPHAT.pl	
2		2			2		3+4		TOPHAT.pl	
3		3			3		6+7		TOPHAT.pl	
4		4			4		5*+8	TOPHAT.pl	

* LANE 5 FROM SECOND RUN

or

cufflinks/cuffcompare BASED ON ANALYSIS 2

group	analysis	sample	lanes	inputdir	chunks	application
1		5			1		1+2		analysis 2	1-10	CUFFLINKS.pl
2		6			1		1+2		analysis 2	1-20	CUFFLINKS.pl
3		7			1		1+2		analysis 2	1-30	CUFFLINKS.pl
4		8			1		1+2		analysis 2	1-40	CUFFLINKS.pl



CUFFCOMPARE BASED ON ANALYSIS 2

group	analysis	run		lanes	inputdir	chunks	application
1		9			1		3+4		analysis 2	1-10	CUFFLINKS.pl	CUFFCOMPARE 9 + 10
2		10			1		3+4		analysis 2	1-20	CUFFLINKS.pl
3		11			1		3+4		analysis 2	1-30	CUFFLINKS.pl	FAILED?
4		12			1		3+4		analysis 2	1-40	CUFFLINKS.pl




FOR ANALYSES 13, 14, 15, 16:  BOTH LANES OF SAMPLE 3 (10M, 20M, 30M AND 40M READS)

group	analysis	run 	lanes	inputdir	chunks	application
1		13			?		3+4		2			1-10	TOPHATstats.pl
1		14			?		3+4		2			1-20	TOPHATstats.pl
1		15			?		3+4		2			21-30	TOPHATstats.pl	samindex WITH 3 FIELDS
1		16			?		3+4		2			21-40	TOPHATstats.pl






chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/venn.pl

/nethome/bioinfo/apps/agua/0.4/bin/apps/venn.pl \
--queryfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis5/chr1



TEST TOPHAT STATS


cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13

screen -S analysis13

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHATstats.pl \
--inputdirs /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13 \
--referencedir /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--chromosomes /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie/chromosome-sizes.txt




NOTES
-----


AVOID TypeError: 'str' object is not callable BY USING CORRECT SOLEXA PARAMS:
(IN THIS CASE NOT USING ANY PARAMS)

	
	[Wed Jun 23 18:24:11 2010] Beginning TopHat run (v1.0.12)
	-----------------------------------------------
	[Wed Jun 23 18:24:11 2010] Preparing output location /scratch/syoung/base/pipeline/SRA/NA18507/tophat/t/100M-single/chrY/1/
	[Wed Jun 23 18:24:11 2010] Checking for Bowtie index files
	[Wed Jun 23 18:24:11 2010] Checking for reference FASTA file
	[Wed Jun 23 18:24:11 2010] Checking for Bowtie
			Bowtie version:          0.12.2.0
	[Wed Jun 23 18:24:11 2010] Checking reads
			seed length:     32bp
			format:          fastq
			quality scale:   --solexa1.3-quals
	[Wed Jun 23 18:24:28 2010] Mapping reads against chrY with Bowtie
	[Wed Jun 23 18:24:28 2010] Joining segment hits
	[Wed Jun 23 18:24:29 2010] Searching for junctions via segment mapping
	Warning: junction database is empty!
	[Wed Jun 23 18:24:32 2010] Joining segment hits
	[Wed Jun 23 18:24:32 2010] Reporting output tracks
			[FAILED]
	Error: Report generation failed with err = 1
	Traceback (most recent call last):
	  File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 1518, in ?
		sys.exit(main())
	  File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 1490, in main
		params.gff_annotation)
	  File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 936, in compile_reports
		exit(1)
	TypeError: 'str' object is not callable




CONFIRMED THAT TOPHAT OUTPUT accepted_hits.sam FILE CONTAINS ONLY READS WITH HITS (NO UNMATCHED READS):

	head /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/chr1/accepted_hits.sam

		HWI-EAS185:3:13:1397:1556#0     16      chr1    3005531 0       52M     *       0       0       TGTGCGAGTTCCTCTGGGATTGGGTTACCTCACTCAGGATGATGCCCTCCAG aaaa_a\a`_`aWV`aaba]aabbbaW_^aa]aaaaababbaabZ`a`_aabNM:i:2
		HWI-EAS185:3:29:1842:1863#0     16      chr1    3005656 0       52M     *       0       0       CCACAATTTATGTATCCATTCCTCTGTTGAGGGGCATCTGGGTTCATTCCAG VYUVUTV^RSUVZY]YXX^M[^TY]____Ya`aa_`a`ababaaaa_]]aabNM:i:2
	

	CHECK FOR LINES WITH NO MATCH:
	
	grep -n "0   \*      \*" /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/chr1/accepted_hits.sam
		<NO RESULT>








</entry>



<entry [Fri May 21 12:30:54 EDT 2010] ADDED SINGLE-CHROMOSOME SUBDIRECTORIES IN HUMAN AND MOUSE bowtie DIRECTORIES ON kronos AND pegasus>



NB: SO THIS WORKS ON kronos

/nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
--inputfiles "/nethome/dmotti/Sequences/DRG_0_sequence_1.txt,/nethome/dmotti/Sequences/DRG_0_sequence_2.txt" \
--params "\
--mate-inner-dist 200 \
--solexa1.3-quals" \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie/chr1 \
--outputdir /nethome/dmotti/Sequences/Tophat/DRG0/chr10 \
--label Try1 \
--keep \
--cpus 4 –help \
--distance 200 \
--species mouse


COMMAND USED:

cd /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie
DIRS="chr*.ebwt"
for DIR in $DIRS;
do
    CHROMO=$(echo $DIR | egrep "^chr[0-9XYM]+.1.ebwt" ) ### OK!
    if [ "$CHROMO" != "" ]; then
        CHROM=${CHROMO/.1.ebwt/};
        echo CHROM: $CHROM;
        
        mkdir `pwd`/$CHROM;
        cp -f `pwd`/$CHROM.* `pwd`/$CHROM;
        
    fi;
done;


TEST


cd /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie
DIRS="chr*.ebwt"
for DIR in $DIRS;
do
    #echo DIR: $DIR;
    CHROMO=$(echo $DIR | egrep "^chr[0-9XYM]+.1.ebwt" ) ### OK!
    if [ "$CHROMO" != "" ]; then
        echo CHROMO: $CHROMO;
        CHROM=${CHROMO/.1.ebwt/};
        echo CHROM: $CHROM;
    fi;
done;

    
    
EXAMPLE OF BRACKETS:

secretNumber=$(( ((`date +%N` / 1000) % 100) +1 ))
guess=-1
while [ "$guess" != "$secretNumber" ]; do
	echo -n "I am thinking of a number between 1 and 100. Enter your guess:"
	read guess
	if [ "$guess" = "" ]; then
		echo "Please enter a number."
	elif [ "$guess" = "$secretNumber" ]; then
		echo -e "\aYes! $guess is the correct answer!"
	elif [ "$secretNumber" -gt "$guess" ]; then
		echo "The secret number is larger than your guess. Try again."
	else
		echo "The secret number is smaller than your guess. Try again."
	fi
done


grep
----

cd /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie
DIRS="chr*.fa"
for DIR in $DIRS;
do
    echo DIR: $DIR;
    CHROMO=$(echo $DIR | grep "chr1" )
    echo CHROMO$CHROMO;
done;



#### RESULT=$( echo $VAR | egrep ^[a-zA-Z]+?=[\.\/a-zA-Z0-9_-]+?$ )



for DIR in $DIRS;
do
    echo '/nethome/syoung/base/pipeline/jbrowse/ucsc/reference/$DIR/data/tracks/' $DIR;
done




</entry>



<entry [Mon Apr 19 10:20:00 EDT 2010] GET STATS FOR EACH TOPHAT ANALYSIS WITH TOPHATstats.pl>




ANALYSES 13, 14, 15, 16:  BOTH LANES OF SAMPLE 3 (10M, 20M, 30M AND 40M READS)



ANALYSIS 13 (10 MILLION READS, 1-10)
====================================


RUN LOCALLY (SLOW)


cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13

screen -S analysis13

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHATstats.pl \
--inputdirs /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13 \
--referencedir /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--chromosomes /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie/chromosome-sizes.txt

    TOPHATstats.pl    inputdirs: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13
    TOPHATstats.pl    referencedir: /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie
    TOPHATstats.pl    references: chrY_random chrY chrX_random chrX chrUn_random chrM chr19 chr18 chr17_random chr17 chr16_random chr16 chr15 chr14 chr13_random chr13 chr12 chr11 chr10 chr9_random chr9 chr8_random chr8 chr7_random chr7 chr6 chr5_random chr5 chr4_random chr4 chr3_random chr2 chr1_random chr1
    MAQ.pl    SETTING cluster object
    TOPHAT::new    TOPHAT::new(arguments)
    TOPHAT::new    arguments:
    $VAR1 = undef;
    TOPHAT::stats    TOPHAT::stats(outputdir, splitfiles, references, clean, sqlite, random)
    TOPHAT::stats    outputdir: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13
    TOPHAT::stats    references: chrY chrX chrM chr19 chr18 chr17 chr16 chr15 chr14 chr13 chr12 chr11 chr10 chr9 chr8 chr7 chr6 chr5 chr4 chr2 chr1
    TOPHAT::stats    sqlite: sqlite3
    TOPHAT::stats    splitfile: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/splitfiles
    TOPHAT::stats    Getting split files
    TOPHAT::stats    Getting stats->{reads}
    TOPHAT::stats    Getting stats->{hits}
    TOPHAT::stats    Gathering samfiles for all input split files for all references
    TOPHAT::stats    reference: chrY
    TOPHAT::stats    reference: chrX
    TOPHAT::stats    reference: chrM
    TOPHAT::stats    reference: chr19
    TOPHAT::stats    reference: chr18
    TOPHAT::stats    reference: chr17
    TOPHAT::stats    reference: chr16
    TOPHAT::stats    reference: chr15
    TOPHAT::stats    reference: chr14
    TOPHAT::stats    reference: chr13
    TOPHAT::stats    reference: chr12
    TOPHAT::stats    reference: chr11
    TOPHAT::stats    reference: chr10
    TOPHAT::stats    reference: chr9
    TOPHAT::stats    reference: chr8
    TOPHAT::stats    reference: chr7
    TOPHAT::stats    reference: chr6
    TOPHAT::stats    reference: chr5
    TOPHAT::stats    reference: chr4
    TOPHAT::stats    reference: chr2
    TOPHAT::stats    reference: chr1
    length(samfiles): 210
    TOPHAT::samToSqlite    length(samfiles): 210
    Creating TSV files...
    ..................................................................................................................................................................................................................
    sqlite3 /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/stats.dbl < /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/stats.cmd



STILL LOADING AT Wed Apr 21 11:26:41 EDT 2010:

    bash-3.2$ ls -al /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/stats.dbl
    -rw-r--r-- 1 syoung root 3809330176 Apr 21 11:17 /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/stats.dbl
    bash-3.2$ ls -al /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/stats.dbl
    -rw-r--r-- 1 syoung root 3810227200 Apr 21 11:17 /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/stats.dbl
    bash-3.2$ 




ANALYSIS 14 (20 MILLION READS, 1-20)
====================================


screen -S analysis14

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis14

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHATstats.pl \
--inputdirs /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis14 \
--referencedir /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--chromosomes /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie/chromosome-sizes.txt \
--cluster LSF \
--queue large




ANALYSIS 15 (10 MILLION READS, 21-30)
====================================

screen -S analysis15

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis15

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHATstats.pl \
--inputdirs /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis15 \
--referencedir /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--chromosomes /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie/chromosome-sizes.txt \
--cluster LSF \
--queue large


LOADING samindex WITH ONLY THREE FIELDS




ANALYSIS 16 (10 MILLION READS, 21-40)
=====================================


screen -S analysis16

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis16

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHATstats.pl \
--inputdirs /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis16 \
--referencedir /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--chromosomes /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie/chromosome-sizes.txt \
--cluster LSF \
--queue large










LOAD UNIQUE HITS INTO SQLITE TABLE TO QUERY FOR STATS
=====================================================

1. CREATE TABLE

CREATE TABLE IF NOT EXISTS sam_temp (
    qname    VARCHAR(100) NOT NULL,
    flag    VARCHAR(8) NOT NULL,
    rname   VARCHAR(100) NOT NULL,
    pos     INT(20) NOT NULL,
    mapq    INT(20) NOT NULL,
    cigar    VARCHAR(255) NOT NULL,
    mrnm    VARCHAR(100) NOT NULL,
    mpos    INT(20) NOT NULL,
    isize   INT(20) NOT NULL,
    seq        VARCHAR(255),
    qual    VARCHAR(255),
    tag        VARCHAR(255),
    PRIMARY KEY (qname, rname, pos)
)



2. CHECK FOR AND REMOVE DUPLICATE LINES

TO AVOID THIS ERROR:

.import /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chr1/1/accepted_hits.sam sam

    segmentation fault


A) FIND DUPLICATE LINE AND ITS POSITION IN THE FILE

uniq /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/1/accepted_hits.tsv > /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/1/accepted_hits.uniq.tsv

diff /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/1/accepted_hits.tsv  /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/1/accepted_hits.uniq.tsv

    24073d24072
    < HWI-EAS185:1:6:1840:56#0      16      chrY_random     47589343        0       52M     *       0    GCCTATTCTAGGGAGNCATGTCATCTTTCATGAAGGTTCAGTGTCCTAGTTC     aZ]`_]___^`a_]^DX_aa_a``aa`]aaab`abbbbaab]baaababb``  NM:i:1


OR, B) FIND DUPLICATE LINE (uniq -d)

uniq -d /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/1/accepted_hits.tsv

    HWI-EAS185:1:6:1840:56#0        16      chrY_random     47589343        0       52M     *       0    GCCTATTCTAGGGAGNCATGTCATCTTTCATGAAGGTTCAGTGTCCTAGTTC     aZ]`_]___^`a_]^DX_aa_a``aa`]aaab`abbbbaab]baaababb``  NM:i:1



3. LOAD DATA

USE sqlite3 dbfile < stats.cmd


cat stats.cmd

    .separator "\t"
    .import /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chr1/1/accepted_hits.uniq.sam sam
    ...


EXAMPLE


CHROMOSOME Y_RANDOM:

.import /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/1/accepted_hits.tsv sam
.import /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/2/accepted_hits.tsv sam
.import /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/3/accepted_hits.tsv sam
.import /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/4/accepted_hits.tsv sam
.import /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/5/accepted_hits.tsv sam
.import /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/6/accepted_hits.tsv sam
.import /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/7/accepted_hits.tsv sam
.import /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/8/accepted_hits.tsv sam
.import /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/9/accepted_hits.tsv sam
.import /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/chrY_random/10/accepted_hits.tsv sam


52 MB DATABASE FILE CREATED:

ll /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/stats.dbl
    
    -rw-r--r-- 1 syoung root 52M Apr 21 00:39 /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/stats.dbl



66,000 UNIQUE READS WITH 205,000 HITS:


sqlite3 /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/stats.dbl

select count(distinct qname) from sam;
    66565
select count(*) from sam;
    205349



TROUBLESHOOTING
===============

HAD TO REINSTALL DBD::SQLite LOCALLY TO lib/external ON PEGASUS



ERROR:

cd /nethome/bioinfo/apps/agua/0.4/lib/external
perl -e 'use DBD::SQLite'

    Can't locate loadable object for module DBD::SQLite in @INC (@INC contains: /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/site_perl/5.8.8 /usr/lib64/perl5/site_perl/5.8.5/x86_64-linux-thread-multi /usr/lib/perl5/site_perl/5.8.5 /usr/lib/perl5/site_perl /usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.8 /usr/lib64/perl5/vendor_perl/5.8.5/x86_64-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.5 /usr/lib/perl5/vendor_perl /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/5.8.8 .) at -e line 1
    Compilation failed in require at -e line 1.
    BEGIN failed--compilation aborted at -e line 1.



SOLUTION:

perl -MCPAN -e shell

o conf makepl_arg PREFIX=/nethome/bioinfo/apps/agua/0.4/lib/external
o conf mbuildpl_arg "--prefix /nethome/bioinfo/apps/agua/0.4/lib/external"
o conf commit /nethome/syoung/.cpan/CPAN/MyConfig.pm


install BDB::SQLite

    ...
    t/rt_50503_fts3..........................ok                                  
    t/rt_52573_manual_exclusive_lock.........ok                                  
    All tests successful, 4 tests skipped.
    Files=56, Tests=1209, 11 wallclock secs ( 3.09 cusr +  0.88 csys =  3.97 CPU)
      /usr/bin/make test -- OK
    Running make install
    Installing /nethome/bioinfo/apps/agua/0.4/lib/external/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi/auto/DBD/SQLite/SQLite.so
    Installing /nethome/bioinfo/apps/agua/0.4/lib/external/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi/auto/DBD/SQLite/SQLite.bs
    Files found in blib/arch: installing files in blib/lib into architecture dependent library tree
    Installing /nethome/bioinfo/apps/agua/0.4/lib/external/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi/DBD/SQLite.pm
    Installing /nethome/bioinfo/apps/agua/0.4/lib/external/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi/DBD/SQLite/Cookbook.pod
    Installing /nethome/bioinfo/apps/agua/0.4/lib/external/share/man/man3/DBD::SQLite.3pm
    Installing /nethome/bioinfo/apps/agua/0.4/lib/external/share/man/man3/DBD::SQLite::Cookbook.3pm
    Writing /nethome/bioinfo/apps/agua/0.4/lib/external/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi/auto/DBD/SQLite/.packlist
    Appending installation info to /nethome/bioinfo/apps/agua/0.4/lib/external/lib64/perl5/5.8.8/x86_64-linux-thread-multi/perllocal.pod
      /usr/bin/make install  -- OK


TESTED RUNS OK:

perl -e 'use lib "/nethome/bioinfo/apps/agua/0.4/lib/external/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi"; use DBD::SQLite'
[syoung@u04 external]$ 


</entry>



<entry [Mon Apr 19 10:20:00 EDT 2010] DO RUN 3 LANES SEPARATELY>




ANALYSIS 13: RUN 1, CHUNKS: 1-10
================================

screen -S analysis13

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis13 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label lane3+4 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/splitfiles \
--chunks 1-10



ANALYSIS 14: RUN 1, CHUNKS: 1-20
================================

screen -S analysis14

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis14/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis14/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis14 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label lane3+4 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/splitfiles \
--chunks 1-20




ANALYSIS 15: RUN 1, CHUNKS: 21-30
=================================


screen -S analysis15

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis15/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis15/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl


perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis15 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label lane3+4 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/splitfiles \
--chunks 1-30



ANALYSIS 16: RUN 1, CHUNKS: 21-40
=================================


screen -S analysis16

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis16/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis16/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl


perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis16 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label lane3+4 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/splitfiles \
--chunks 1-40 &> CUFFLINKS.out








</entry>



<entry [Mon Apr 19 02:20:00 EDT 2010] RE-RAN analysis 3 ON EACH SEPARATELY>




    ...    
    Cluster::usageStats    stdoutfile: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/chr1_random/cufflinks-chr1_random-stdout.txt
    Cluster::usageStats    job:
    Cluster::usageStats    stdoutfile: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/chr1/cufflinks-chr1-stdout.txt
    Cluster::runJobs    cleanup not defined. Leaving scriptfiles.
    FINISHED RUNNING CUFFLINKS
    Use of uninitialized value in concatenation (.) or string at /nethome/bioinfo/apps/agua/0.4/bin/apps/../../lib/TOPHAT.pm line 484.
    Tophat::run    10-04-16 18:03:43        Completed cufflinks
    TOPHAT.pl    Run time: 06:12:43
    TOPHAT.pl    Completed /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl
    TOPHAT.pl    6:03PM, 16 April 2010
    TOPHAT.pl    ****************************************





</entry>



<entry [Thu Apr 15 11:54:40 EDT 2010] RE-RAN analysis 2>



    ...    
    Cluster::usageStats    stdoutfile: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/chr1_random/cufflinks-chr1_random-stdout.txt
    Cluster::usageStats    job:
    Cluster::usageStats    stdoutfile: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/chr1/cufflinks-chr1-stdout.txt
    Cluster::runJobs    cleanup not defined. Leaving scriptfiles.
    FINISHED RUNNING CUFFLINKS
    Use of uninitialized value in concatenation (.) or string at /nethome/bioinfo/apps/agua/0.4/bin/apps/../../lib/TOPHAT.pm line 484.
    Tophat::run    10-04-16 18:03:43        Completed cufflinks
    TOPHAT.pl    Run time: 06:12:43
    TOPHAT.pl    Completed /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl
    TOPHAT.pl    6:03PM, 16 April 2010
    TOPHAT.pl    ****************************************



</entry>



<entry [Thu Apr 15 11:54:40 EDT 2010] RAN CUFFCOMPARE ON COVERAGE ANALYSES>



GENERATE GTF-FORMAT CHROMOSOME REFERENCE FILES
==============================================

SPECIAL: USE CNTL+V THEN TAB
grep -e "chr1   " /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr1.gtf

grep chr2 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr2.gtf

grep chr3 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr3.gtf

grep chr4 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr4.gtf

grep chr5 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr5.gtf

grep chr6 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr6.gtf

grep chr7 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr7.gtf

grep chr8 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr8.gtf

grep chr9 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr9.gtf

grep chr10 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr10.gtf

grep chr11 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr11.gtf

grep chr12 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr12.gtf

grep chr13 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr13.gtf

grep chr14 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr14.gtf

grep chr15 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr15.gtf

grep chr16 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr16.gtf

grep chr17 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr17.gtf

grep chr18 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr18.gtf

grep chr19 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr19.gtf

grep chrX /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chrX.gtf

grep chrY /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chrY.gtf


KNOWNGENES

# SPECIAL: USE CNTL+V THEN TAB
grep -e "chr1   " /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr1.gtf

grep chr2 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr2.gtf

grep chr3 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr3.gtf

grep chr4 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr4.gtf

grep chr5 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr5.gtf

grep chr6 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr6.gtf

grep chr7 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr7.gtf

grep chr8 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr8.gtf

grep chr9 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr9.gtf

grep chr10 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr10.gtf

grep chr11 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr11.gtf

grep chr12 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr12.gtf

grep chr13 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr13.gtf

grep chr14 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr14.gtf

grep chr15 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr15.gtf

grep chr16 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr16.gtf

grep chr17 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr17.gtf

grep chr18 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr18.gtf

grep chr19 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr19.gtf

grep chrX /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chrX.gtf

grep chrY /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf > /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chrY.gtf

cd /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks
md5sum * > md5sum.txt

cat md5sum.txt 

    681021b932f22ad3de6e9645509fa2f9  mm9-knownGene-chr10.gtf
    f834a6389c586a03e9c70a68d1b91ed9  mm9-knownGene-chr11.gtf
    0468844be6323c7efc278cc9aee6a44a  mm9-knownGene-chr12.gtf
    2ef561aa0d893e5801dec57c8f32d354  mm9-knownGene-chr13.gtf
    5d23ba3ee4218422be761d2c97327afb  mm9-knownGene-chr14.gtf
    2ab7f8376f0f2fdebad116b6ee4e725e  mm9-knownGene-chr15.gtf
    d76c0ff572a689ac535b4cb088a6f66e  mm9-knownGene-chr16.gtf
    88f5f2d978caa38ce323f624ac9586bb  mm9-knownGene-chr17.gtf
    e088736f202c7f343f59e54292480453  mm9-knownGene-chr18.gtf
    499b60976b0e8d38a318624087da9499  mm9-knownGene-chr19.gtf
    a7928e11b5d739f925561180145e89fc  mm9-knownGene-chr1.gtf
    2fc783021c03518fcbe4b7b7d78589f6  mm9-knownGene-chr2.gtf
    92753a1863f0323dc259c5903abbe2c8  mm9-knownGene-chr3.gtf
    4af722950495e9b7a90e57dc1b3ca5d8  mm9-knownGene-chr4.gtf
    db31f40664a27514024a13f3722fea68  mm9-knownGene-chr5.gtf
    ceb1cf2682d06ac8ffb1d2749447d895  mm9-knownGene-chr6.gtf
    761fceede76f484c586d4b50ade26e76  mm9-knownGene-chr7.gtf
    da706e5d39ba5ce4a81f41837f28e8b8  mm9-knownGene-chr8.gtf
    1dbda8e4ac071123c8d8e77c2f56aff2  mm9-knownGene-chr9.gtf
    32b2f0a603013572c3d8cc4d2d4c4c68  mm9-knownGene-chrX.gtf
    1cea86766cb94d92ba25cdc842c72b4a  mm9-knownGene-chrY.gtf
    bb7d8d70aaaae0984e53a3f0533bff7b  mm9-knownGene.gtf
    a0c12e9f94823bd94279fa03e5b0b2cb  mm9-refseq-chr10.gtf
    188b70b99022685518ad383c40ec997a  mm9-refseq-chr11.gtf
    5756c56105868cd0472377f6b41bd173  mm9-refseq-chr12.gtf
    a128968862d38eaa843ba62d5baa78a3  mm9-refseq-chr13.gtf
    da4ef1a1b889423fc02789cbf8727e69  mm9-refseq-chr14.gtf
    08bdcb0e955eb8abb990f1d0d4d4775b  mm9-refseq-chr15.gtf
    0f75421d55f3c847a8894fe218c5442c  mm9-refseq-chr16.gtf
    8e9b212d384983327908ef60b437bb15  mm9-refseq-chr17.gtf
    f9d5635c36badbaff06402feef8fc770  mm9-refseq-chr18.gtf
    e6a3ca276a07d85d63cbce34f4f475ea  mm9-refseq-chr19.gtf
    9572f4f4dc03a308f642e0d88adac9bd  mm9-refseq-chr1.gtf
    1a2cb381afc6b8385233e8b171f82fb7  mm9-refseq-chr2.gtf
    8dfc47e9624ce0b78529f44fc7cde1af  mm9-refseq-chr3.gtf
    1d03dfeba6b46c7339afa74d66a91076  mm9-refseq-chr4.gtf
    a783063660be3fbb0c130790065f7b8a  mm9-refseq-chr5.gtf
    0431d2a5dcfa82d37919e5096be81f4f  mm9-refseq-chr6.gtf
    583453ef32f41f8236f512392a85b421  mm9-refseq-chr7.gtf
    3fbd35c78c603ba072b87ec27ef02d9c  mm9-refseq-chr8.gtf
    643139c8e3d8d4a9445cce84066ee62d  mm9-refseq-chr9.gtf
    2c2581e32f6dff9e507a7434936eeb05  mm9-refseq-chrX.gtf
    947314b57a057a02094479ee2a3d201a  mm9-refseq-chrY.gtf
    b5fc2b1ca6201f41c58da010ae52a8a7  mm9-refseq.gtf



COMPARE 9 WITH 10
=================

1. NO OPTIONS

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10
cd /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10

/nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare \
-o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-noOptions-9-10.out \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf

cat /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-noOptions-9-10.out
        
    # Cuffcompare v0.8.2 | Command line was:
    #/nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare -o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-noOptions-9-10.out /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf
    #
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1514 in    1030 loci  (1458 multi-exon transcripts)
    #            (325 multi-transcript loci, ~1.5 transcripts per locus)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf :
    #     Query mRNAs :    1514 in    1030 loci  (1458 multi-exon transcripts)
    #            (325 multi-transcript loci, ~1.5 transcripts per locus)
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1595 in    1072 loci  (1536 multi-exon transcripts)
    #            (345 multi-transcript loci, ~1.5 transcripts per locus)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf :
    #     Query mRNAs :    1595 in    1072 loci  (1536 multi-exon transcripts)
    #            (345 multi-transcript loci, ~1.5 transcripts per locus)
    
     Total union super-loci across all datasets: 1073 
      (364 multi-transcript, ~1.5 transcripts per locus)
      


2. AGAINST ALL KNOWN GENES

/nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare \
-o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-knownGenes-9-10.out \
-r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf

cat /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-knownGenes-9-10.out

    
    # Cuffcompare v0.8.2 | Command line was:
    #/nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare -o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-knownGenes-9-10.out -r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf
    #
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1514 in    1030 loci  (1458 multi-exon transcripts)
    #            (325 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :    2712 in    1373 loci  (2556 multi-exon)
    # Corresponding super-loci:           1015
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:      79.7   100.0     -       - 
            Exon level:      79.9   100.0    80.5   100.0
          Intron level:      81.2   100.0    81.8   100.0
    Intron chain level:      57.0   100.0    66.2   100.0
      Transcript level:      55.8    99.9    56.4   100.0
           Locus level:      75.0   100.0    75.0   100.0
       Missed exons:        2523/14731 ( 17.1%)
        Wrong exons:        0/11766 (  0.0%)
     Missed introns:        1899/13081 ( 14.5%)
      Wrong introns:        0/10616 (  0.0%)
     Missed loci:   337/1373 ( 24.5%)
      Wrong loci:   0/1030 (  0.0%)
    
    #= Summary for dataset: chr2 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    4328 in    2396 loci  (3517 multi-exon)
    
    #= Summary for dataset: chr3 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2249 in    1150 loci  (2145 multi-exon)
    
    #= Summary for dataset: chr4 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2981 in    1664 loci  (2606 multi-exon)
    
    #= Summary for dataset: chr5 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    3081 in    1619 loci  (2738 multi-exon)
    
    #= Summary for dataset: chr6 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2694 in    1524 loci  (2265 multi-exon)
    
    #= Summary for dataset: chr7 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    3973 in    2348 loci  (3274 multi-exon)
    
    #= Summary for dataset: chr8 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2260 in    1206 loci  (2118 multi-exon)
    
    #= Summary for dataset: chr9 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2872 in    1599 loci  (2376 multi-exon)
    
    #= Summary for dataset: chrM :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :       8 in       8 loci  (0 multi-exon)
    
    #= Summary for dataset: chrX :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1717 in     925 loci  (1602 multi-exon)
    
    #= Summary for dataset: chrY :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      27 in      13 loci  (26 multi-exon)
    
    #= Summary for dataset: chr10 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2354 in    1315 loci  (1986 multi-exon)
    
    #= Summary for dataset: chr11 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    3499 in    1799 loci  (3266 multi-exon)
    
    #= Summary for dataset: chr12 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1671 in     882 loci  (1466 multi-exon)
    
    #= Summary for dataset: chr13 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1791 in    1005 loci  (1565 multi-exon)
    
    #= Summary for dataset: chr14 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2066 in    1166 loci  (1770 multi-exon)
    
    #= Summary for dataset: chr15 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1935 in    1083 loci  (1661 multi-exon)
    
    #= Summary for dataset: chr16 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1497 in     744 loci  (1386 multi-exon)
    
    #= Summary for dataset: chr17 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2539 in    1455 loci  (2092 multi-exon)
    
    #= Summary for dataset: chr18 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1313 in     719 loci  (1088 multi-exon)
    
    #= Summary for dataset: chr19 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1523 in     796 loci  (1388 multi-exon)
    
    #= Summary for dataset: chr1_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      28 in      13 loci  (27 multi-exon)
    
    #= Summary for dataset: chr4_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :       1 in       1 loci  (1 multi-exon)
    
    #= Summary for dataset: chr5_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :       1 in       1 loci  (1 multi-exon)
    
    #= Summary for dataset: chr7_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :       3 in       3 loci  (2 multi-exon)
    
    #= Summary for dataset: chr8_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      11 in       9 loci  (11 multi-exon)
    
    #= Summary for dataset: chr9_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      16 in       7 loci  (15 multi-exon)
    
    #= Summary for dataset: chrX_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :       8 in       7 loci  (7 multi-exon)
    
    #= Summary for dataset: chrY_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      83 in      74 loci  (81 multi-exon)
    
    #= Summary for dataset: chr13_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      23 in       9 loci  (23 multi-exon)
    
    #= Summary for dataset: chr17_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      14 in      13 loci  (13 multi-exon)
    
    #= Summary for dataset: chrUn_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      67 in      63 loci  (30 multi-exon)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf :
    #     Query mRNAs :    1514 in    1030 loci  (1458 multi-exon transcripts)
    #            (325 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :   49345 in   26989 loci  (43102 multi-exon)
    # Corresponding super-loci:           1015
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:       5.0   100.0     -       - 
            Exon level:       5.0   100.0     5.0   100.0
          Intron level:       5.2   100.0     5.2   100.0
    Intron chain level:       3.4   100.0     3.9   100.0
      Transcript level:       3.1    99.9     3.1   100.0
           Locus level:       3.8   100.0     3.8   100.0
       Missed exons:        224994/237202 ( 94.9%)
        Wrong exons:        0/11766 (  0.0%)
     Missed introns:        194440/205622 ( 94.6%)
      Wrong introns:        0/10616 (  0.0%)
     Missed loci:   337/26989 (  1.2%)
      Wrong loci:   0/1030 (  0.0%)
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1595 in    1072 loci  (1536 multi-exon transcripts)
    #            (345 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :    2712 in    1373 loci  (2556 multi-exon)
    # Corresponding super-loci:           1056
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:      82.2   100.0     -       - 
            Exon level:      82.3   100.0    82.9   100.0
          Intron level:      83.6   100.0    84.3   100.0
    Intron chain level:      60.1   100.0    69.4   100.0
      Transcript level:      58.7    99.9    59.4   100.0
           Locus level:      78.1   100.0    78.1   100.0
       Missed exons:        2166/14731 ( 14.7%)
        Wrong exons:        0/12121 (  0.0%)
     Missed introns:        1614/13081 ( 12.3%)
      Wrong introns:        0/10933 (  0.0%)
     Missed loci:   296/1373 ( 21.6%)
      Wrong loci:   0/1072 (  0.0%)
    
    #= Summary for dataset: chr2 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    4328 in    2396 loci  (3517 multi-exon)
    
    #= Summary for dataset: chr3 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2249 in    1150 loci  (2145 multi-exon)
    
    #= Summary for dataset: chr4 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2981 in    1664 loci  (2606 multi-exon)
    
    #= Summary for dataset: chr5 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    3081 in    1619 loci  (2738 multi-exon)
    
    #= Summary for dataset: chr6 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2694 in    1524 loci  (2265 multi-exon)
    
    #= Summary for dataset: chr7 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    3973 in    2348 loci  (3274 multi-exon)
    
    #= Summary for dataset: chr8 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2260 in    1206 loci  (2118 multi-exon)
    
    #= Summary for dataset: chr9 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2872 in    1599 loci  (2376 multi-exon)
    
    #= Summary for dataset: chrM :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :       8 in       8 loci  (0 multi-exon)
    
    #= Summary for dataset: chrX :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1717 in     925 loci  (1602 multi-exon)
    
    #= Summary for dataset: chrY :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      27 in      13 loci  (26 multi-exon)
    
    #= Summary for dataset: chr10 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2354 in    1315 loci  (1986 multi-exon)
    
    #= Summary for dataset: chr11 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    3499 in    1799 loci  (3266 multi-exon)
    
    #= Summary for dataset: chr12 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1671 in     882 loci  (1466 multi-exon)
    
    #= Summary for dataset: chr13 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1791 in    1005 loci  (1565 multi-exon)
    
    #= Summary for dataset: chr14 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2066 in    1166 loci  (1770 multi-exon)
    
    #= Summary for dataset: chr15 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1935 in    1083 loci  (1661 multi-exon)
    
    #= Summary for dataset: chr16 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1497 in     744 loci  (1386 multi-exon)
    
    #= Summary for dataset: chr17 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2539 in    1455 loci  (2092 multi-exon)
    
    #= Summary for dataset: chr18 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1313 in     719 loci  (1088 multi-exon)
    
    #= Summary for dataset: chr19 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    1523 in     796 loci  (1388 multi-exon)
    
    #= Summary for dataset: chr1_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      28 in      13 loci  (27 multi-exon)
    
    #= Summary for dataset: chr4_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :       1 in       1 loci  (1 multi-exon)
    
    #= Summary for dataset: chr5_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :       1 in       1 loci  (1 multi-exon)
    
    #= Summary for dataset: chr7_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :       3 in       3 loci  (2 multi-exon)
    
    #= Summary for dataset: chr8_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      11 in       9 loci  (11 multi-exon)
    
    #= Summary for dataset: chr9_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      16 in       7 loci  (15 multi-exon)
    
    #= Summary for dataset: chrX_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :       8 in       7 loci  (7 multi-exon)
    
    #= Summary for dataset: chrY_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      83 in      74 loci  (81 multi-exon)
    
    #= Summary for dataset: chr13_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      23 in       9 loci  (23 multi-exon)
    
    #= Summary for dataset: chr17_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      14 in      13 loci  (13 multi-exon)
    
    #= Summary for dataset: chrUn_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      67 in      63 loci  (30 multi-exon)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf :
    #     Query mRNAs :    1595 in    1072 loci  (1536 multi-exon transcripts)
    #            (345 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :   49345 in   26989 loci  (43102 multi-exon)
    # Corresponding super-loci:           1056
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:       5.2   100.0     -       - 
            Exon level:       5.1   100.0     5.1   100.0
          Intron level:       5.3   100.0     5.4   100.0
    Intron chain level:       3.6   100.0     4.1   100.0
      Transcript level:       3.2    99.9     3.3   100.0
           Locus level:       4.0   100.0     4.0   100.0
       Missed exons:        224637/237202 ( 94.7%)
        Wrong exons:        0/12121 (  0.0%)
     Missed introns:        194155/205622 ( 94.4%)
      Wrong introns:        0/10933 (  0.0%)
     Missed loci:   296/26989 (  1.1%)
      Wrong loci:   0/1072 (  0.0%)
    
     Total union super-loci across all datasets: 1068 
      (368 multi-transcript, ~1.5 transcripts per locus)


3. AGAINST chr1 KNOWN GENES


/nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare \
-o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-chr1-knownGenes-9-10.out \
-r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr1.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf

cat /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-chr1-knownGenes-9-10.out

    
    # Cuffcompare v0.8.2 | Command line was:
    #/nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare -o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-chr1-knownGenes-9-10.out -r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr1.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf
    #
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1514 in    1030 loci  (1458 multi-exon transcripts)
    #            (325 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :    2712 in    1373 loci  (2556 multi-exon)
    # Corresponding super-loci:           1015
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:      79.7   100.0     -       - 
            Exon level:      79.9   100.0    80.5   100.0
          Intron level:      81.2   100.0    81.8   100.0
    Intron chain level:      57.0   100.0    66.2   100.0
      Transcript level:      55.8    99.9    56.4   100.0
           Locus level:      75.0   100.0    75.0   100.0
       Missed exons:        2523/14731 ( 17.1%)
        Wrong exons:        0/11766 (  0.0%)
     Missed introns:        1899/13081 ( 14.5%)
      Wrong introns:        0/10616 (  0.0%)
     Missed loci:   337/1373 ( 24.5%)
      Wrong loci:   0/1030 (  0.0%)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf :
    #     Query mRNAs :    1514 in    1030 loci  (1458 multi-exon transcripts)
    #            (325 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :    2712 in    1373 loci  (2556 multi-exon)
    # Corresponding super-loci:           1015
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:      79.7   100.0     -       - 
            Exon level:      79.9   100.0    80.5   100.0
          Intron level:      81.2   100.0    81.8   100.0
    Intron chain level:      57.0   100.0    66.2   100.0
      Transcript level:      55.8    99.9    56.4   100.0
           Locus level:      75.0   100.0    75.0   100.0
       Missed exons:        2523/14731 ( 17.1%)
        Wrong exons:        0/11766 (  0.0%)
     Missed introns:        1899/13081 ( 14.5%)
      Wrong introns:        0/10616 (  0.0%)
     Missed loci:   337/1373 ( 24.5%)
      Wrong loci:   0/1030 (  0.0%)
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1595 in    1072 loci  (1536 multi-exon transcripts)
    #            (345 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :    2712 in    1373 loci  (2556 multi-exon)
    # Corresponding super-loci:           1056
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:      82.2   100.0     -       - 
            Exon level:      82.3   100.0    82.9   100.0
          Intron level:      83.6   100.0    84.3   100.0
    Intron chain level:      60.1   100.0    69.4   100.0
      Transcript level:      58.7    99.9    59.4   100.0
           Locus level:      78.1   100.0    78.1   100.0
       Missed exons:        2166/14731 ( 14.7%)
        Wrong exons:        0/12121 (  0.0%)
     Missed introns:        1614/13081 ( 12.3%)
      Wrong introns:        0/10933 (  0.0%)
     Missed loci:   296/1373 ( 21.6%)
      Wrong loci:   0/1072 (  0.0%)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf :
    #     Query mRNAs :    1595 in    1072 loci  (1536 multi-exon transcripts)
    #            (345 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :    2712 in    1373 loci  (2556 multi-exon)
    # Corresponding super-loci:           1056
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:      82.2   100.0     -       - 
            Exon level:      82.3   100.0    82.9   100.0
          Intron level:      83.6   100.0    84.3   100.0
    Intron chain level:      60.1   100.0    69.4   100.0
      Transcript level:      58.7    99.9    59.4   100.0
           Locus level:      78.1   100.0    78.1   100.0
       Missed exons:        2166/14731 ( 14.7%)
        Wrong exons:        0/12121 (  0.0%)
     Missed introns:        1614/13081 ( 12.3%)
      Wrong introns:        0/10933 (  0.0%)
     Missed loci:   296/1373 ( 21.6%)
      Wrong loci:   0/1072 (  0.0%)
    
     Total union super-loci across all datasets: 1068 
      (368 multi-transcript, ~1.5 transcripts per locus)



4. AGAINST REFSEQ


/nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare \
-o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-refseq-9-10.out \
-r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf

cat /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-refseq-9-10.out
        

    # Cuffcompare v0.8.2 | Command line was:
    #/nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare -o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-refseq-9-10.out -r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf
    #
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1514 in    1030 loci  (1458 multi-exon transcripts)
    #            (325 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :    1473 in    1169 loci  (1373 multi-exon)
    # Corresponding super-loci:            899
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:      78.0    85.7     -       - 
            Exon level:      76.9    85.5    78.2    87.0
          Intron level:      82.0    92.2    82.5    92.7
    Intron chain level:      59.4    56.0    66.6    62.8
      Transcript level:      33.7    32.8    36.1    35.1
           Locus level:      64.8    73.5    67.6    76.7
       Missed exons:        2244/13094 ( 17.1%)
        Wrong exons:        641/11766 (  5.4%)
     Missed introns:        1864/11939 ( 15.6%)
      Wrong introns:        428/10616 (  4.0%)
     Missed loci:   246/1169 ( 21.0%)
      Wrong loci:   101/1030 (  9.8%)
    
    #= Summary for dataset: chr2 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2275 in    1827 loci  (1884 multi-exon)    
    ...    
    #= Summary for dataset: chrUn_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      23 in      21 loci  (22 multi-exon)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf :
    #     Query mRNAs :    1514 in    1030 loci  (1458 multi-exon transcripts)
    #            (325 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :   26291 in   21293 loci  (23351 multi-exon)
    # Corresponding super-loci:            899
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:       5.0    85.7     -       - 
            Exon level:       4.9    85.5     5.0    87.0
          Intron level:       5.3    92.2     5.3    92.7
    Intron chain level:       3.5    56.0     3.9    62.8
      Transcript level:       1.9    32.8     2.0    35.1
           Locus level:       3.6    73.5     3.7    76.7
       Missed exons:        194761/205611 ( 94.7%)
        Wrong exons:        641/11766 (  5.4%)
     Missed introns:        174308/184383 ( 94.5%)
      Wrong introns:        428/10616 (  4.0%)
     Missed loci:   246/21293 (  1.2%)
      Wrong loci:   101/1030 (  9.8%)
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1595 in    1072 loci  (1536 multi-exon transcripts)
    #            (345 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :    1473 in    1169 loci  (1373 multi-exon)
    # Corresponding super-loci:            928
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:      79.8    85.1     -       - 
            Exon level:      78.8    85.1    80.3    86.7
          Intron level:      84.1    91.8    84.6    92.3
    Intron chain level:      62.9    56.2    70.1    62.7
      Transcript level:      35.3    32.6    38.5    35.5
           Locus level:      67.9    74.1    70.6    77.0
       Missed exons:        1969/13094 ( 15.0%)
        Wrong exons:        714/12121 (  5.9%)
     Missed introns:        1628/11939 ( 13.6%)
      Wrong introns:        472/10933 (  4.3%)
     Missed loci:   217/1169 ( 18.6%)
      Wrong loci:   113/1072 ( 10.5%)
    
    #= Summary for dataset: chr2 :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :    2275 in    1827 loci  (1884 multi-exon)
    ...
    #= Summary for dataset: chrUn_random :
    #     Query mRNAs :       0 in       0 loci  (0 multi-exon transcripts)
    #            (0 multi-transcript loci, ~nan transcripts per locus)
    # Reference mRNAs :      23 in      21 loci  (22 multi-exon)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf :
    #     Query mRNAs :    1595 in    1072 loci  (1536 multi-exon transcripts)
    #            (345 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :   26291 in   21293 loci  (23351 multi-exon)
    # Corresponding super-loci:            928
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:       5.1    85.1     -       - 
            Exon level:       5.0    85.1     5.1    86.7
          Intron level:       5.4    91.8     5.5    92.3
    Intron chain level:       3.7    56.2     4.1    62.7
      Transcript level:       2.0    32.6     2.2    35.5
           Locus level:       3.7    74.1     3.9    77.0
       Missed exons:        194486/205611 ( 94.6%)
        Wrong exons:        714/12121 (  5.9%)
     Missed introns:        174072/184383 ( 94.4%)
      Wrong introns:        472/10933 (  4.3%)
     Missed loci:   217/21293 (  1.0%)
      Wrong loci:   113/1072 ( 10.5%)
    
     Total union super-loci across all datasets: 1050 
      (369 multi-transcript, ~1.6 transcripts per locus)




5. AGAINST chr1 REFSEQ
=======================

/nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare \
-o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-chr1-refseq-9-10.out \
-r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr1.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf

cat /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-chr1-refseq-9-10.out
        
    
    # Cuffcompare v0.8.2 | Command line was:
    #/nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare -o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-chr1-refseq-9-10.out -r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr1.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf
    #
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1514 in    1030 loci  (1458 multi-exon transcripts)
    #            (325 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :    1473 in    1169 loci  (1373 multi-exon)
    # Corresponding super-loci:            899
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:      78.0    85.7     -       - 
            Exon level:      76.9    85.5    78.2    87.0
          Intron level:      82.0    92.2    82.5    92.7
    Intron chain level:      59.4    56.0    66.6    62.8
      Transcript level:      33.7    32.8    36.1    35.1
           Locus level:      64.8    73.5    67.6    76.7
       Missed exons:        2244/13094 ( 17.1%)
        Wrong exons:        641/11766 (  5.4%)
     Missed introns:        1864/11939 ( 15.6%)
      Wrong introns:        428/10616 (  4.0%)
     Missed loci:   246/1169 ( 21.0%)
      Wrong loci:   101/1030 (  9.8%)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf :
    #     Query mRNAs :    1514 in    1030 loci  (1458 multi-exon transcripts)
    #            (325 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :    1473 in    1169 loci  (1373 multi-exon)
    # Corresponding super-loci:            899
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:      78.0    85.7     -       - 
            Exon level:      76.9    85.5    78.2    87.0
          Intron level:      82.0    92.2    82.5    92.7
    Intron chain level:      59.4    56.0    66.6    62.8
      Transcript level:      33.7    32.8    36.1    35.1
           Locus level:      64.8    73.5    67.6    76.7
       Missed exons:        2244/13094 ( 17.1%)
        Wrong exons:        641/11766 (  5.4%)
     Missed introns:        1864/11939 ( 15.6%)
      Wrong introns:        428/10616 (  4.0%)
     Missed loci:   246/1169 ( 21.0%)
      Wrong loci:   101/1030 (  9.8%)
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1595 in    1072 loci  (1536 multi-exon transcripts)
    #            (345 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :    1473 in    1169 loci  (1373 multi-exon)
    # Corresponding super-loci:            928
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:      79.8    85.1     -       - 
            Exon level:      78.8    85.1    80.3    86.7
          Intron level:      84.1    91.8    84.6    92.3
    Intron chain level:      62.9    56.2    70.1    62.7
      Transcript level:      35.3    32.6    38.5    35.5
           Locus level:      67.9    74.1    70.6    77.0
       Missed exons:        1969/13094 ( 15.0%)
        Wrong exons:        714/12121 (  5.9%)
     Missed introns:        1628/11939 ( 13.6%)
      Wrong introns:        472/10933 (  4.3%)
     Missed loci:   217/1169 ( 18.6%)
      Wrong loci:   113/1072 ( 10.5%)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf :
    #     Query mRNAs :    1595 in    1072 loci  (1536 multi-exon transcripts)
    #            (345 multi-transcript loci, ~1.5 transcripts per locus)
    # Reference mRNAs :    1473 in    1169 loci  (1373 multi-exon)
    # Corresponding super-loci:            928
    #--------------------|   Sn   |  Sp   |  fSn |  fSp  
            Base level:      79.8    85.1     -       - 
            Exon level:      78.8    85.1    80.3    86.7
          Intron level:      84.1    91.8    84.6    92.3
    Intron chain level:      62.9    56.2    70.1    62.7
      Transcript level:      35.3    32.6    38.5    35.5
           Locus level:      67.9    74.1    70.6    77.0
       Missed exons:        1969/13094 ( 15.0%)
        Wrong exons:        714/12121 (  5.9%)
     Missed introns:        1628/11939 ( 13.6%)
      Wrong introns:        472/10933 (  4.3%)
     Missed loci:   217/1169 ( 18.6%)
      Wrong loci:   113/1072 ( 10.5%)
    
     Total union super-loci across all datasets: 1050 
      (369 multi-transcript, ~1.6 transcripts per locus)




6. LOOP THROUGH ALL CHROMOSOMES AGAINST REFSEQ
==============================================

cd /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10

screen -S loop-cuff

/nethome/bioinfo/apps/agua/0.4/bin/apps/loop.pl \
--executable /nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare \
--parameter "-r" \
--values chr1,chr2,chr3,chr4,chr5,chr6,chr7,chr8,chr9,chr10,chr11,chr12,chr13,chr14,chr15,chr16,chr17,chr18,chr19,chrX,chrY \
--replicates 1 \
-o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-%VALUE%-refseq-9-10.out \
-r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-%VALUE%.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/%VALUE%/transcripts.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/%VALUE%/transcripts.gtf


head /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-*-refseq-9-10.out

    ...
    Error: cannot locate input file: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr18/transcripts.gtf
    command: /nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare -o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-chr19-refseq-9-10.out -r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chr19.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr19/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr19/transcripts.gtf
    
    
    RERUN ANALYSIS 9 CHR18, CHR19 AND CHRY:
    
        
        Error: cannot locate input file: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr19/transcripts.gtf
        command: /nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare -o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-chrX-refseq-9-10.out -r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chrX.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chrX/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chrX/transcripts.gtf
        
        
        command: /nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare -o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-chrY-refseq-9-10.out -r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-refseq-chrY.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chrY/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chrY/transcripts.gtf
        
        
        Error: cannot locate input file: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chrY/transcripts.gtf
        
        Run time: 00:00:19
        Completed /nethome/bioinfo/apps/agua/0.4/bin/apps/loop.pl
        10:39PM, 15 April 2010
        ****************************************



7. LOOP THROUGH ALL CHROMOSOMES AGAINST KNOWN GENES
===================================================

cd /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10

screen -S loop-cuff

/nethome/bioinfo/apps/agua/0.4/bin/apps/loop.pl \
--executable /nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare \
--parameter "-r" \
--values chr1,chr2,chr3,chr4,chr5,chr6,chr7,chr8,chr9,chr10,chr11,chr12,chr13,chr14,chr15,chr16,chr17,chr18,chr19,chrX,chrY \
--replicates 1 \
-o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-%VALUE%-knownGene-9-10.out \
-r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-%VALUE%.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/%VALUE%/transcripts.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/%VALUE%/transcripts.gtf


    ...
    /nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare -o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-chr3-knownGene-9-10.out -r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr3.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr3/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr3/transcripts.gtf
    Error: cannot locate input file: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr3/transcripts.gtf
    ...
    /nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare -o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-chr18-knownGene-9-10.out -r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr18.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr18/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr18/transcripts.gtf
    Error: cannot locate input file: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr18/transcripts.gtf
    /nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare -o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-chr19-knownGene-9-10.out -r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chr19.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr19/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr19/transcripts.gtf
    Error: cannot locate input file: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr19/transcripts.gtf
    ...
    /nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare -o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-10/cuffcompare-chrY-knownGene-9-10.out -r /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene-chrY.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chrY/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chrY/transcripts.gtf
    Error: cannot locate input file: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chrY/transcripts.gtf






COMPARE 9, 10, 11, 12
=====================

1. NO OPTIONS

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-12
cd /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-12

/nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare \
-o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-12/cuffcompare-noOptions-9-12.out \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/chr1/transcripts.gtf \
/scratch/syoung/base/pipeline/bixby/run1/tophat/analysis12/chr1/transcripts.gtf




cat /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-12/cuffcompare-9-12.out

    # Cuffcompare v0.8.2 | Command line was:
    #/nethome/bioinfo/apps/CUFFLINKS/0.8.2/cuffcompare -o /scratch/syoung/base/pipeline/bixby/run1/cuffcompare/analyses9-12/9-12/cuffcompare-9-12.out /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/chr1/transcripts.gtf /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis12/chr1/transcripts.gtf
    #
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1514 in    1030 loci  (1458 multi-exon transcripts)
    #            (325 multi-transcript loci, ~1.5 transcripts per locus)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/chr1/transcripts.gtf :
    #     Query mRNAs :    1514 in    1030 loci  (1458 multi-exon transcripts)
    #            (325 multi-transcript loci, ~1.5 transcripts per locus)
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1595 in    1072 loci  (1536 multi-exon transcripts)
    #            (345 multi-transcript loci, ~1.5 transcripts per locus)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/transcripts.gtf :
    #     Query mRNAs :    1595 in    1072 loci  (1536 multi-exon transcripts)
    #            (345 multi-transcript loci, ~1.5 transcripts per locus)
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1644 in    1097 loci  (1582 multi-exon transcripts)
    #            (360 multi-transcript loci, ~1.5 transcripts per locus)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/chr1/transcripts.gtf :
    #     Query mRNAs :    1644 in    1097 loci  (1582 multi-exon transcripts)
    #            (360 multi-transcript loci, ~1.5 transcripts per locus)
    #> Genomic sequence: chr1 
    #     Query mRNAs :    1670 in    1112 loci  (1607 multi-exon transcripts)
    #            (366 multi-transcript loci, ~1.5 transcripts per locus)
    
    #= Summary for dataset: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis12/chr1/transcripts.gtf :
    #     Query mRNAs :    1670 in    1112 loci  (1607 multi-exon transcripts)
    #            (366 multi-transcript loci, ~1.5 transcripts per locus)

 Total union super-loci across all datasets: 1116 
  (399 multi-transcript, ~1.6 transcripts per locus)
  
  
  
  
USAGE:


    cuffcompare [options]* <cuff1.gtf> [cuff2.gtf] ... [cuffN.gtf] 


Options: 	

	-o <outprefix> 	Write the summary stats into the text output file <outprefix>(instead of stdout)
	
	-r 				An optional "reference" annotation GTF. Each sample is matched against this file, and sample isoforms are tagged as overlapping, matching, or novel where appropriate. See the refmap and tmap output file descriptions below.
	
	-R 				If -r was specified, this option causes cuffcompare to ignore reference transcripts that are not overlapped by any transcript in one of cuff1.gtf,...,cuffN.gtf. Useful for ignoring annotated transcripts that are not present in your RNA-Seq samples and thus adjusting the "sensitivity" calculation in the accuracy report written in the <outprefix> file
	
	-s <seq_dir> 	Causes cuffcompare to look into for fasta files with the underlying genomic sequences (one file per contig) against which your reads were aligned for some optional classification functions. For example, Cufflinks transcripts consisting mostly of lower-case bases are classified as repeats. Note that <seq_dir> must contain one fasta file per reference chromosome, and each file must be named after the chromosome, and have a .fa or .fasta extension.
	
	-V 				(Mildly) more verbose processing mode



</entry>



<entry [Wed Apr 14 15:00:13 EDT 201] RERUN ANALYSES 10, 11 AND 12 (TRANSCRIPTOME COVERAGE)>



PREVIOUS RUNS (SEE BELOW) FAILED WITH ERROR "Host does not have a software license"


GROUP 1: CHUNKS: 1-10
=====================

screen -S analysis9

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label lane3+4 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/splitfiles \
--chunks 1-10



GROUP 2: CHUNKS: 1-20
=====================

screen -S analysis10

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label lane3+4 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/splitfiles \
--chunks 1-20




GROUP 3: CHUNKS: 1-30
=====================


screen -S analysis11

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl


perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label lane3+4 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/splitfiles \
--chunks 1-30



GROUP 4: CHUNKS: 1-40
=====================



mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis12/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis12/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl


screen -S analysis12


perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis12 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label lane3+4 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/splitfiles \
--chunks 1-40 &> CUFFLINKS.out












ANALYSIS 11 FAILED, NO CUFFLINKS OUTPUT FILES:

ll /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/chr1

    -rw-r--r--  1 syoung root 60811482 Apr  8 10:30 accepted_hits.unsorted.bam
    -rw-r--r--  1 syoung root 55492914 Apr  8 10:30 accepted_hits.unsorted.bam.temp


ERROR OUTPUT:

/nethome/syoung/base/apps/samtools/0.1.6/samtools view -o /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/chr1_random/accepted_hits.sam /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/chr1_random/accepted_hits.bam

CUFFLINKS::run    label: bam2sam-chr1_random
CUFFLINKS::run    outputdir: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/chr1_random
CUFFLINKS::run    bam2sam command:

/nethome/syoung/base/apps/samtools/0.1.6/samtools view -o /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/chr1/accepted_hits.sam /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/chr1/accepted_hits.bam

CUFFLINKS::run    label: bam2sam-chr1
CUFFLINKS::run    outputdir: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/chr1
CUFFLINKS::run    DOING bam2sam conversion...
Host does not have a software license. Job not submitted.



SAME FOR ANALYSIS 10:


/nethome/syoung/base/apps/samtools/0.1.6/samtools view -o /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/accepted_hits.sam /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1/accepted_hits.bam

CUFFLINKS::run    label: bam2sam-chr1
CUFFLINKS::run    outputdir: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/chr1
CUFFLINKS::run    DOING bam2sam conversion...
self:
$VAR1 = bless( { 
                 '_qsub' => '/usr/local/bin/qsub',
                 '_sleep' => 5,
                 '_databasetype' => 'MySQL',
                 '_job' => bless( { 
                                    '-id' => '335861'
                                  }, 'LSF::Job' ),
                 '_cpus' => 4,
                 '_qstat' => '/usr/local/bin/qstat'
               }, 'Monitor::LSF' );
Host does not have a software license. Job not submitted.



... AND ANALYSIS 12:

/nethome/syoung/base/apps/samtools/0.1.6/samtools view -o /scratch/syoung/base/pipeline/bixby/run1/top\
hat/analysis12/chr1_random/accepted_hits.sam /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1\
2/chr1_random/accepted_hits.bam

CUFFLINKS::run    label: bam2sam-chr1_random
CUFFLINKS::run    outputdir: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis12/chr1_random
CUFFLINKS::run    bam2sam command:

/nethome/syoung/base/apps/samtools/0.1.6/samtools view -o /scratch/syoung/base/pipeline/bixby/run1/top\
hat/analysis12/chr1/accepted_hits.sam /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis12/chr1/\
accepted_hits.bam

CUFFLINKS::run    label: bam2sam-chr1
CUFFLINKS::run    outputdir: /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis12/chr1
CUFFLINKS::run    DOING bam2sam conversion...
Host does not have a software license. Job not submitted









</entry>



<entry [Fri Apr  9 15:31:06 EDT 2010] TEST CUFFLINKS ON kronos>



mkdir -p /nethome/syoung/base/pipeline/bixby/run1/tophat/analysis5
cd /nethome/syoung/base/pipeline/bixby/run1/tophat/analysis5

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q gsmall" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /nethome/bioinfo/data/sequence/labs/lemmon/run1/tophat/e31-2div \
--outputdir /nethome/syoung/base/pipeline/bixby/run1/tophat/analysis5 \
--cluster PBS \
--cpus 4 \
--maxjobs 1000 \
--label run1+2 \
--splitfile /nethome/bioinfo/data/sequence/labs/lemmon/run1/tophat/e31-2div/splitfiles \
--chunks 1-10



mkdir -p /nethome/dstrikis/base/pipeline/bixby/run1/tophat/analysis5
cd /nethome/dstrikis/base/pipeline/bixby/run1/tophat/analysis5

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q gsmall" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /nethome/bioinfo/data/sequence/labs/lemmon/run1/tophat/e31-2div \
--outputdir /nethome/dstrikis/base/pipeline/bixby/run1/tophat/analysis5 \
--cluster PBS \
--cpus 4 \
--maxjobs 1000 \
--label run1+2 \
--splitfile /nethome/bioinfo/data/sequence/labs/lemmon/run1/tophat/e31-2div/splitfiles \
--chunks 1-10





</entry>



<entry [Thu Apr  8 02:14:25 EDT 2010] EXPRESSION COVERAGE ANALYSIS>




GROUP 1: CHUNKS: 1-10
=====================

screen -S group1
mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis5/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis5/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl




perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis5 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label run1+2 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/splitfiles \
--chunks 1-10





GROUP 2: CHUNKS: 1-20
=====================

screen -S group2

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis6/

cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis6/

chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis6 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label run1+2 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/splitfiles \
--chunks 1-20




GROUP 3: CHUNKS: 1-30
=====================


screen -S group3

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis7/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis7/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl


perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis7 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label run1+2 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/splitfiles \
--chunks 1-30



GROUP 4: CHUNKS: 1-40
=====================


screen -S group4

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis8/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis8/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl


perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis8 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label run1+2 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis1/splitfiles \
--chunks 1-40 &> CUFFLINKS.out








GROUP 1: CHUNKS: 1-10
=====================

screen -S group5

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis9 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label lane3+4 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/splitfiles \
--chunks 1-10




GROUP 2: CHUNKS: 1-20
=====================

screen -S group6

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis10 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label lane3+4 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/splitfiles \
--chunks 1-20




GROUP 3: CHUNKS: 1-30
=====================


screen -S group7

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl



perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis11 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label lane3+4 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/splitfiles \
--chunks 1-30



GROUP 4: CHUNKS: 1-40
=====================


screen -S group8

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis12/
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis12/
chmod 755 /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl


perl /nethome/bioinfo/apps/agua/0.4/bin/apps/CUFFLINKS.pl \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--species mouse \
--inputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2 \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis12 \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--label lane3+4 \
--splitfile /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2/splitfiles \
--chunks 1-40 &> CUFFLINKS.out






</entry>



<entry [Mon Apr  5 13:31:45 EDT 2010] PRELIMINARY RESULTS - READS MAPPED>




Hi John/Dinara,

The initial Tophat and Cufflinks runs are completed for all four sample groups. I've put the run statistics in the latest update:

http://gouda.ccs.miami.edu:8090/display/Transcriptome/Bixby+analysis

Shall we meet up on Thursday to go over the data - I should have the expression coverage results and the sample/treatment cuffcompare results by then? We can also go over how to use TOPHAT.pl and CUFFLINKS.pl if you want.

Cheers,

Stuart.


WIKI PAGE:

The initial Tophat and Cufflinks runs are completed for all four sample groups. Click here to download the Excel file of run statistics.

Towards the bottom of the Excel file you'll find the last table 'Read Count- and Chromosome Size-Adjusted Hit Counts by Analysis (Selected Chromosomes)' for the adjusted hits and its accompanying graph.

You'll notice that Sample 3 (CSPG 07.31.09) has much higher hit counts but that the trend is the same, with the exception of chromosome Y.

Please note: Analysis 2 alignments for chr18, chr19 and chrY failed as I ran it on the AMD nodes. I'll rerun it on the Intel nodes, along with rerunning all analyses against chromosome 3 for which the reference index file were missing (mea culpa).

I had to modify TOPHAT.pl to process multiple input file chunks in parallel to reduce the running time from 40+ hours (with luck - one in two runs failed) to 4 hours 45 mins, aligning two lanes of ~40 million reads against the mm9 mouse genome using 5,304 jobs in the peak usage stage:

QUEUE_NAME      PRIO STATUS          MAX JL/U JL/P JL/H NJOBS  PEND   RUN  SUSP
small           100  Open:Active       -    -    -    -     0     0     0     0
medium           90  Open:Active       -    -    -    -     0     0     0     0
large            80  Open:Active       -    -    -    -  5304  3072  2232     0  <== TOPHAT.pl
ngs              80  Open:Active       -    -    -    -     0     0     0     0      PEAK USAGE
mpi              80  Open:Active       -    -    -    -     0     0     0     0
test             80  Open:Active       -    -    -    -   271     9   262     0
sagempi          80  Open:Active       -    -    -    -     0     0     0     0
kirtman          80  Open:Active       -    -    -    -    32    32     0     0
dev              80  Open:Active       -    -    -    -     0     0     0     0

I also had to change to using the higher-specification Intel nodes on Pegasus after I had some problems running the lower-spec AMD nodes. We're working on the AMD nodes and hopefully they'll be available again soon.

TOPHAT.pl now does both the Tophat analysis (including alignment with Bowtie) and the Cufflinks expression analysis.

I'm now writing another script, CUFFLINKS.pl, to help us answer the questions about coverage and reliability.

CUFFLINKS.pl runs Cufflinks on subsets of the output files from TOPHAT.pl (where we aligned all of our sample sequences prior to generating expression data using all of the input data). By using subsets of the TOPHAT.pl output data and/or combining data between two or more TOPHAT.pl input files, we can generate expression coverage in terms of numbers of genes and the specific sets of genes expressed using these different inputs.

We can then use Cuffcompare to compare the gene sets generated by Cufflinks using these different inputs, e.g., CSPG_7.31.09 compared with LN_7.31.09 (combining the two lanes for each), and CSPG_9.3.09 compared with LN_9.3.09.





I generated the coverage curve using CUFFLINKS.pl with the following input file chunks:

TOTAL FILES: 42

INPUT FILE 1:
CHUNKS: 20
CHUNK NOs.: 1-20

INPUT FILE 2:
CHUNKS: 22
CHUNK NOs.: 21-42


TOTAL   CHUNKS 
1       1               
2       1,20
3       1,3,20
4       1,3,5,20,22
5       1,3,5,7,20,22,24
...
42      1,2,3,4,...,41,42


filestats.pl --action lines --inputfiles 


I've finished the Tophat/Cufflinks processing of all four sample groups (each two lanes combined) and have put some answers to your questions on our Transcriptome wiki page:




</entry>



<entry [Mon Apr  5 12:31:45 EDT 2010] BIXBY ACCEPTED HITS STATS>




How many reads/lane for each of the 8 lanes? How many is average? Acceptable?

COMPARE WITH LEMMONLAB DATA



What percentage of reads are mapped for each lane? What percentage is acceptable?

COMPARE WITH LEMMONLAB DATA


LANE 	 LINES 	 READS 
1	79,409,068 	19,852,267 
2	86,022,704 	21,505,676 
3	89,503,792 	22,375,948 
4	89,504,540 	22,376,135 
5	81,233,532 	20,308,383 
6	88,075,284 	22,018,821 
7	86,004,760 	21,501,190 
8	82,452,304 	20,613,076 


||	LANE	||	LINES	||	READS	||	
|	1	|	79,409,068	|	19,852,267	|	
|	2	|	86,022,704	|	21,505,676	|	
|	3	|	89,503,792	|	22,375,948	|	
|	4	|	89,504,540	|	22,376,135	|	
|	5	|	81,233,532	|	20,308,383	|	
|	6	|	88,075,284	|	22,018,821	|	
|	7	|	86,004,760	|	21,501,190	|	
|	8	|	82,452,304	|	20,613,076	|	



ANALYSIS 1
==========

/scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/analysis1
cat count-accepted-hits.txt 

    chr10/accepted_hits.sam: 4005342
    chr11/accepted_hits.sam: 5339752
    chr12/accepted_hits.sam: 3538961
    chr13/accepted_hits.sam: 3502255
    chr13_random/accepted_hits.sam: 239780
    chr14/accepted_hits.sam: 3328692
    chr15/accepted_hits.sam: 3855462
    chr16/accepted_hits.sam: 3327910
    chr16_random/accepted_hits.sam: 36764
    chr17/accepted_hits.sam: 6144650
    chr17_random/accepted_hits.sam: 401605
    chr18/accepted_hits.sam: 3375704
    chr19/accepted_hits.sam: 3433821
    chr1/accepted_hits.sam: 4831078
    chr1_random/accepted_hits.sam: 485739
    chr2/accepted_hits.sam: 5581903
    chr3_random/accepted_hits.sam: 30235
    chr4/accepted_hits.sam: 4896051
    chr4_random/accepted_hits.sam: 120403
    chr5/accepted_hits.sam: 4819499
    chr5_random/accepted_hits.sam: 314264
    chr6/accepted_hits.sam: 4879511
    chr7/accepted_hits.sam: 4413570
    chr7_random/accepted_hits.sam: 243863
    chr8/accepted_hits.sam: 4287014
    chr8_random/accepted_hits.sam: 395140
    chr9/accepted_hits.sam: 4422607
    chr9_random/accepted_hits.sam: 253310
    chrM/accepted_hits.sam: 432663
    chrUn_random/accepted_hits.sam: 925263
    chrX/accepted_hits.sam: 3584135
    chrX_random/accepted_hits.sam: 562950
    chrY/accepted_hits.sam: 837276
    chrY_random/accepted_hits.sam: 1101058
    chrY_random.safe/accepted_hits.sam: 1101058




ANALYSIS 2
==========

/scratch/syoung/base/pipeline/bixby/run1/tophat
cat count-accepted-hits.txt 

    chr10/accepted_hits.sam: 3567055
    chr11/accepted_hits.sam: 4696010
    chr12/accepted_hits.sam: 3267463
    chr13/accepted_hits.sam: 3193610
    chr13_random/accepted_hits.sam: 226047
    chr14/accepted_hits.sam: 2609427
    chr15/accepted_hits.sam: 3553440
    chr16/accepted_hits.sam: 3263028
    chr16_random/accepted_hits.sam: 25785
    chr17/accepted_hits.sam: 5241857
    chr1/accepted_hits.sam: 4474712
    chr1_random/accepted_hits.sam: 334525
    chr2/accepted_hits.sam: 5230638
    chr3_random/accepted_hits.sam: 18455
    chr4/accepted_hits.sam: 4279646
    chr4_random/accepted_hits.sam: 82614
    chr5/accepted_hits.sam: 4547840
    chr5_random/accepted_hits.sam: 217463
    chr6/accepted_hits.sam: 3322982
    chr7/accepted_hits.sam: 4208766
    chr7_random/accepted_hits.sam: 179650
    chr8/accepted_hits.sam: 3662676
    chr9/accepted_hits.sam: 4062731
    chrUn_random/accepted_hits.sam: 294992
    chrX/accepted_hits.sam: 2098319
    chrX_random/accepted_hits.sam: 206203
    chrY_random/accepted_hits.sam: 735323


ANALYSIS 3
==========

/scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis3
cat count-accepted-hits.txt 

    chr10/accepted_hits.sam: 6387541
    chr11/accepted_hits.sam: 7990894
    chr12/accepted_hits.sam: 6040100
    chr13/accepted_hits.sam: 5853334
    chr13_random/accepted_hits.sam: 785058
    chr14/accepted_hits.sam: 5874071
    chr15/accepted_hits.sam: 6360564
    chr16/accepted_hits.sam: 5694107
    chr16_random/accepted_hits.sam: 202284
    chr17/accepted_hits.sam: 6611677
    chr17_random/accepted_hits.sam: 1928837
    chr18/accepted_hits.sam: 6129184
    chr19/accepted_hits.sam: 6526878
    chr1/accepted_hits.sam: 6329122
    chr1_random/accepted_hits.sam: 2455433
    chr2/accepted_hits.sam: 7865418
    chr3_random/accepted_hits.sam: 118032
    chr4/accepted_hits.sam: 7195855
    chr4_random/accepted_hits.sam: 653898
    chr5/accepted_hits.sam: 7099637
    chr5_random/accepted_hits.sam: 1864542
    chr6/accepted_hits.sam: 6320833
    chr7/accepted_hits.sam: 6768344
    chr7_random/accepted_hits.sam: 1419699
    chr8/accepted_hits.sam: 6564466
    chr8_random/accepted_hits.sam: 2066600
    chr9/accepted_hits.sam: 7659524
    chr9_random/accepted_hits.sam: 1441322
    chrM/accepted_hits.sam: 281511
    chrUn_random/accepted_hits.sam: 4940537
    chrX/accepted_hits.sam: 6132738
    chrX_random/accepted_hits.sam: 3138842
    chrY/accepted_hits.sam: 4112210
    chrY_random/accepted_hits.sam: 3777407


ANALYSIS 4
==========

/scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis4
cat count-accepted-hits.txt 

    chr10/accepted_hits.sam: 3792752
    chr11/accepted_hits.sam: 5344867
    chr12/accepted_hits.sam: 3422209
    chr13/accepted_hits.sam: 3397971
    chr13_random/accepted_hits.sam: 268569
    chr14/accepted_hits.sam: 3271554
    chr15/accepted_hits.sam: 3800870
    chr16/accepted_hits.sam: 3028464
    chr16_random/accepted_hits.sam: 29905
    chr17/accepted_hits.sam: 4017107
    chr17_random/accepted_hits.sam: 321511
    chr18/accepted_hits.sam: 3331501
    chr19/accepted_hits.sam: 3218350
    chr1/accepted_hits.sam: 4375937
    chr1_random/accepted_hits.sam: 440438
    chr2/accepted_hits.sam: 5545225
    chr3_random/accepted_hits.sam: 30935
    chr4/accepted_hits.sam: 4644575
    chr4_random/accepted_hits.sam: 123930
    chr5/accepted_hits.sam: 4823689
    chr5_random/accepted_hits.sam: 281871
    chr6/accepted_hits.sam: 3916780
    chr7/accepted_hits.sam: 4252138
    chr7_random/accepted_hits.sam: 213765
    chr8/accepted_hits.sam: 3985046
    chr8_random/accepted_hits.sam: 356052
    chr9/accepted_hits.sam: 4394944
    chr9_random/accepted_hits.sam: 217279
    chrM/accepted_hits.sam: 499425
    chrUn_random/accepted_hits.sam: 828659
    chrX/accepted_hits.sam: 3442747
    chrX_random/accepted_hits.sam: 499002
    chrY/accepted_hits.sam: 733603
    chrY_random/accepted_hits.sam: 1050798


CHROMOSOME SIZES


ls -al /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie/*fa

    201139347	chr1
      1256344	chr1_random
    185383055	chr2
    162791785	chr3
        42750	chr3_random
    158742729	chr4
       163819	chr4_random
    155588011	chr5
       364510	chr5_random
    152507384	chr6
    155575051	chr7
       369753	chr7_random
    134373655	chr8
       866598	chr8_random
    126557702	chr9
       458405	chr9_random
    132593128	chr10
    124280741	chr11
    123682688	chr12
    122690006	chr13
       408332	chr13_random
    127698769	chr14
    105564881	chr15
    100285540	chr16
         4088	chr16_random
     97178112	chr17
       641328	chr17_random
     92587479	chr18
     62569286	chr19
        16631	chrM
      6018380	chrUn_random
    169983308	chrX
      1820790	chrX_random
     16220613	chrY
     59856124	chrY_random
 

emacs /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie/chromosome-sizes.txt
chr1	201139347
chr1_random	1256344
chr2	185383055
chr3	162791785
chr3_random	42750
chr4	158742729
chr4_random	163819
chr5	155588011
chr5_random	364510
chr6	152507384
chr7	155575051
chr7_random	369753
chr8	134373655
chr8_random	866598
chr9	126557702
chr9_random	458405
chr10	132593128
chr11	124280741
chr12	123682688
chr13	122690006
chr13_random	408332
chr14	127698769
chr15	105564881
chr16	100285540
chr16_random	4088
chr17	97178112
chr17_random	641328
chr18	92587479
chr19	62569286
chrM	16631
chrUn_random	6018380
chrX	169983308
chrX_random	1820790
chrY	16220613
chrY_random	59856124


TO DO:

GENERATE ebwt

chr3

DOWNLOAD AND GENERAGE ebwt

chr20
chr21
chr22


####I'm transferring the files over to the lembix folder, where you should both be able to access them on the command line:
####
####/nethome/lembix/bixby/run1/tophat-multi/analysis1
####/nethome/lembix/bixby/run1/tophat-multi/analysis2
####/nethome/lembix/bixby/run1/tophat-multi/analysis3
####/nethome/lembix/bixby/run1/tophat-multi/analysis4




-----------------------------------------------------------------

Issues to consider:

How many reads/lane for each of the 8 lanes? How many is average? Acceptable?


What percentage of reads are mapped for each lane? What percentage is acceptable?



How will we know if data are reliable? If coverage is adequate? 



Is there value in comparison of the two lanes for identical samples?



What expression difference should be taken as "real"?

cuffcompare



What are "reasonable" values for expression level (e.g., where is the "noise" level)?




Can we (later) mine the data on splice variants and their expression?

What kind of file will be used for the final data? Will it be genome browser compatible?

.wig





</entry>



<entry [Mon Apr  5 12:31:45 EDT 2010] RUN CuffCompare.pl ON ALL 4 SAMPLES>



USAGE:

/nethome/bioinfo/apps/CUFFLINKS/0.7.0/bin/cuffcompare \
[-r <reference_mrna.gtf>]
[-R][-V]
[-s <seq_path>]
[-o <stats.txt>] 
<input1.gtf> [<input2.gtf> <input3.gtf> ... <inputN.gtf>]


COMPARE LN WITH LN
==================

/nethome/bioinfo/apps/CUFFLINKS/0.7.0/bin/cuffcompare \
[-r <reference_mrna.gtf>]
[-R][-V]
[-s <seq_path>]
[-o <stats.txt>] 
<input1.gtf> [<input2.gtf> <input3.gtf> ... <inputN.gtf>]



/nethome/bioinfo/apps/CUFFLINKS/0.7.0/bin/cuffcompare 

    Usage:
    cuffcompare [-r <reference_mrna.gtf>][-R][-V][-s <seq_path>][-o <stats.txt>] 
        <input1.gtf> [<input2.gtf> <input3.gtf> ... <inputN.gtf>]
    
     Provides various statistics for GTF mRNA data.
     Tracks expression changes of loci across multiple input files, writing
     matching transcripts (intron chains) into <stats>.tracking.
     A file <input>.tmap is created for each input file, showing
     how its transcripts overlap reference transcripts, while the file 
     <input>.refmap shows the matching and contained transcripts for each
     reference transcript.
    
    Options:

    -o  write the stats into given file name <stats.txt> (instead of stdout)
    
    -r  a set of known mRNAs to use as a reference for assessing 
        the accuracy of mRNAs or gene models given in <input.gtf>
    
    -R  for -r option, reduce the set of reference transcripts to 
        only those found to overlap any of the input loci
    
    -s  look into <seq_dir> for fasta files with the 
        underlying genomic sequences (one file per contig) and use
        lower case bases to classify input transcripts as repeats
    
    -V  (mildly) verbose processing mode
    


</entry>



<entry [Fri Apr  2 13:27:16 EDT 2010] PEGASUS HOST SPECS>



lshosts

    HOST_NAME      type    model  cpuf ncpus maxmem maxswp server RESOURCES
    m1           X86_64 Opteron2  60.0     4  7829M  9823M    Yes (mg)
    n0001        X86_64 Intel_EM  60.0     8 16054M 35165M    Yes (mpich2)
    ...
    n0629        X86_64 Opteron8  60.0     4  3958M      -    Yes (mpich2)


M1 (HEAD NODE)

machine_type	x86_64
os_name	Linux
os_release	2.6.18-164.el5
cpu_num	4 CPUs
cpu_speed	2200 MHz
mem_total	8017908 KB
swap_total	10059768 KB


INTEL HOSTS (1-280)

NODES: 280
CPUS: 8 x 280 = 2240
RUNNING: 275

machine_type	x86_64
os_name	Linux
os_release	2.6.18-164.el5
cpu_num	8 CPUs
cpu_speed	2500 MHz
mem_total	16440144 KB
swap_total	0 KB
 

AMD HOSTS (280-910)

NODES: 380
CPUS: 4 x 380 = 1440
RUNNING: 374

machine_type	x86_64
os_name	Linux
os_release	2.6.18-164.el5
cpu_num	4 CPUs
cpu_speed	2193 MHz
mem_total	4053624 KB
swap_total	0 KB




</entry>



<entry [Fri Apr  2 13:27:16 EDT 2010] ENABLE RUN OF TOPHAT.pl ON PBS (kronos)>



ANALYSIS 1 (LN, 7.31.09)
========================

1	CGN LN 7.31.09 	8 pM
2	CGN LN 7.31.09 	8 pM


screen -S analysis1

mkdir -p /nethome/syoung/base/pipeline/bixby/run1/ln/tophat-multi/analysis1/


cd /nethome/syoung/base/pipeline/bixby/run1/ln/tophat-multi/analysis1/


perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
--inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_sequence.txt \
--params "--solexa1.3-quals" \
--distance 200 \
--queue "-q ngs" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--outputdir /nethome/syoung/base/pipeline/bixby/run1/ln/tophat-multi/analysis1 \
--keep \
--cluster PBS \
--cpus 2 \
--maxjobs 1000 \
--species mouse \
--label run1+2





</entry>



<entry [Fri Apr  2 10:59:53 EDT 2010] BIXBY RUN 1 LANE STATS ON WIKI>





||	LANE	||	SIZE (GB)	||	READS	||	md5sum	||
|	1	|	3.1	|	19,852,267	|	3e410af330455cf36dffb3a338a0b886	|
|	2	|	3.4	|	21,505,676	|	45550dea75281e8342ba6e0a2b8f044d	|
|	3	|	3.5	|	22,375,948	|	a220f46decb22611db0ae984151027a9	|
|	4	|	3.5	|	22,376,135	|	97fe75d71f48721833b4d9a38fa1b2f9	|
|	5	|	3.5	|	20,308,383	|	634414777c93605d34836d1a9d45a5ab	|
|	6	|	3.5	|	22,018,821	|	b31c8fac404137078a3673edb8c2e268	|
|	7	|	3.4	|	21,501,190	|	8569423f2a7ea1b09fd4c792e4b7a229	|
|	8	|	3.2	|	20,613,076	|	56362b1235c14cce8c3693d6d827220e	|

||	LANE	||	LOCATION	||
|	1	|	/nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_sequence.txt	|
|	2	|	/nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_sequence.txt	|
|	3	|	/nethome/bioinfo/data/sequence/labs/bixby/run1/s_3_sequence.txt	|
|	4	|	/nethome/bioinfo/data/sequence/labs/bixby/run1/s_4_sequence.txt	|
|	5	|	/nethome/bioinfo/data/sequence/labs/bixby/run1/s_5_sequence.txt	|
|	6	|	/nethome/bioinfo/data/sequence/labs/bixby/run1/s_6_sequence.txt	|
|	7	|	/nethome/bioinfo/data/sequence/labs/bixby/run1/s_7_sequence.txt	|
|	8	|	/nethome/bioinfo/data/sequence/labs/bixby/run1/s_8_sequence.txt	|



LINES

/nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_sequence.txt: 79409068
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_sequence.txt: 86022704
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_3_sequence.txt: 89503792
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_4_sequence.txt: 89504540
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_5_sequence.txt: 81233532
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_6_sequence.txt: 88075284
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_7_sequence.txt: 86004760
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_8_sequence.txt: 82452304


LANE 	 LINES 	 READS 
1	79,409,068 	19,852,267 
2	86,022,704 	21,505,676 
3	89,503,792 	22,375,948 
4	89,504,540 	22,376,135 
5	81,233,532 	20,308,383 
6	88,075,284 	22,018,821 
7	86,004,760 	21,501,190 
8	82,452,304 	20,613,076 


||	LANE	||	LINES	||	READS	||	
|	1	|	79,409,068	|	19,852,267	|	
|	2	|	86,022,704	|	21,505,676	|	
|	3	|	89,503,792	|	22,375,948	|	
|	4	|	89,504,540	|	22,376,135	|	
|	5	|	81,233,532	|	20,308,383	|	
|	6	|	88,075,284	|	22,018,821	|	
|	7	|	86,004,760	|	21,501,190	|	
|	8	|	82,452,304	|	20,613,076	|	


MD5SUM

70bce5afa119e6a84e806c187087b5e3  s_1-100000_sequence.txt
3e410af330455cf36dffb3a338a0b886  s_1_1_sequence.txt
3e410af330455cf36dffb3a338a0b886  s_1_2_sequence.txt
3e410af330455cf36dffb3a338a0b886  s_1_sequence.txt
45550dea75281e8342ba6e0a2b8f044d  s_2_1_sequence.txt
45550dea75281e8342ba6e0a2b8f044d  s_2_2_sequence.txt
45550dea75281e8342ba6e0a2b8f044d  s_2_sequence.txt
a220f46decb22611db0ae984151027a9  s_3_sequence.txt
97fe75d71f48721833b4d9a38fa1b2f9  s_4_sequence.txt
634414777c93605d34836d1a9d45a5ab  s_5_sequence.txt
b31c8fac404137078a3673edb8c2e268  s_6_sequence.txt
8569423f2a7ea1b09fd4c792e4b7a229  s_7_sequence.txt
56362b1235c14cce8c3693d6d827220e  s_8_sequence.txt

||      md5sum      ||  sequence ||	
|	70bce5afa119e6a84e806c187087b5e3	|	s_1-100000_sequence.txt
|	3e410af330455cf36dffb3a338a0b886	|	s_1_1_sequence.txt
|	3e410af330455cf36dffb3a338a0b886	|	s_1_2_sequence.txt
|	3e410af330455cf36dffb3a338a0b886	|	s_1_sequence.txt
|	45550dea75281e8342ba6e0a2b8f044d	|	s_2_1_sequence.txt
|	45550dea75281e8342ba6e0a2b8f044d	|	s_2_2_sequence.txt
|	45550dea75281e8342ba6e0a2b8f044d	|	s_2_sequence.txt
|	a220f46decb22611db0ae984151027a9	|	s_3_sequence.txt
|	97fe75d71f48721833b4d9a38fa1b2f9	|	s_4_sequence.txt
|	634414777c93605d34836d1a9d45a5ab	|	s_5_sequence.txt
|	b31c8fac404137078a3673edb8c2e268	|	s_6_sequence.txt
|	8569423f2a7ea1b09fd4c792e4b7a229	|	s_7_sequence.txt
|	56362b1235c14cce8c3693d6d827220e	|	s_8_sequence.txt



/nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_sequence.txt
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_sequence.txt
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_3_sequence.txt
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_4_sequence.txt
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_5_sequence.txt
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_6_sequence.txt
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_7_sequence.txt
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_8_sequence.txt




[syoung@u02 tophat-multi]$ du -hs analysis1/*

    540M    analysis1/1
    546M    analysis1/10
    546M    analysis1/11
    546M    analysis1/12
    546M    analysis1/13
    546M    analysis1/14
    546M    analysis1/15
    545M    analysis1/16
    552M    analysis1/17
    552M    analysis1/18
    552M    analysis1/19
    543M    analysis1/2
    471M    analysis1/20
    532M    analysis1/21
    535M    analysis1/22
    539M    analysis1/23
    539M    analysis1/24
    539M    analysis1/25
    539M    analysis1/26
    539M    analysis1/27
    539M    analysis1/28
    539M    analysis1/29
    546M    analysis1/3
    539M    analysis1/30
    539M    analysis1/31
    539M    analysis1/32
    539M    analysis1/33
    539M    analysis1/34
    539M    analysis1/35
    539M    analysis1/36
    483M    analysis1/37
    361M    analysis1/38
    364M    analysis1/39
    546M    analysis1/4
    364M    analysis1/40
    364M    analysis1/41
    185M    analysis1/42
    546M    analysis1/5
    546M    analysis1/6
    1.5K    analysis1/60
    546M    analysis1/7
    546M    analysis1/8
    546M    analysis1/9
    474K    analysis1/accepted.txt
    26K     analysis1/bam2sam-chrY_random.sh
    290K    analysis1/bam2sam-chrY_random-stdout.txt
    1.9G    analysis1/chr1
    1.6G    analysis1/chr10
    2.1G    analysis1/chr11
    1.4G    analysis1/chr12
    1.4G    analysis1/chr13
    135M    analysis1/chr13_random
    1.4G    analysis1/chr14
    1.5G    analysis1/chr15
    1.3G    analysis1/chr16
    40M     analysis1/chr16_random
    2.3G    analysis1/chr17
    186M    analysis1/chr17_random
    1.4G    analysis1/chr18
    1.4G    analysis1/chr19
    225M    analysis1/chr1_random
    2.2G    analysis1/chr2
    37M     analysis1/chr3_random
    1.9G    analysis1/chr4
    79M     analysis1/chr4_random
    1.9G    analysis1/chr5
    165M    analysis1/chr5_random
    1.9G    analysis1/chr6
    1.8G    analysis1/chr7
    129M    analysis1/chr7_random
    1.7G    analysis1/chr8
    192M    analysis1/chr8_random
    1.8G    analysis1/chr9
    136M    analysis1/chr9_random
    174M    analysis1/chrM
    396M    analysis1/chrUn_random
    1.4G    analysis1/chrX
    260M    analysis1/chrX_random
    346M    analysis1/chrY
    679M    analysis1/chrY_random
    1008M   analysis1/chrY_random.safe
    194K    analysis1/out
    26K     analysis1/splitfiles
    26K     analysis1/#splitfiles#




</entry>



<entry [Wed Mar 31 13:15:50 EDT 2010] ELAND OUTPUT FILES>




http://www.sequensysbio.com/pdf/dataformats.pdf

The two main output files generated by the Solexa/Illumina pipeline's ELAND alignment \
 are the *_export.txt and the *_extended.txt files. Both files share the following features:

  - Tab delimited text
  - One line per sequence read
  - Paired end: two separate files with identical number of reads in the same order

Check [here for more detailed information|http://www.sequensysbio.com/pdf/dataformats.pdf].




You can analyse paired end by pairing reads by line number to resolve genomic coordinates of reads mapping to more than one genomic location and detect genomic rearrangements.

One way to quickly visualize the ELAND output is to add the data as custom tracks to
UCSC genome browser.

In addition, ELAND output can be used directly by some third
party analysis tools including, but not limited to ERANGE http://woldlab.caltech.edu/
rnaseq; HPeak http://www.sph.umich.edu/csg/qin/HPeak; and FindPeaks http://
www.bcgsc.ca/platform/bioinfo/software/findpeaks.http://www.sequensysbio.com/pdf/dataformats.pdf




The particular features of the different files are as follows:

1. *export.txt

    >GA2 4 1 704 1123 1 GTTATTAAACATTCC ^^^^^^^^^^]]]]] chrIV.fa 4289280 R 36 87 172 -179 R Y

The first 8 fields describe:
a. MachineName_FolderNumber_RunID
b. Lane Number
c. Tile Number
d. X Coordinate
e. Y Coordinate
f. Read Number (1 or 2)
g. Sequence (shortened here for clarity)
h. Quality scores for each base (shortened here for clarity). Quality scores are
calibrated during alignment and may be lower than the corresponding raw
quality scores.



The remaining fields may or may not be present depending on the results of the
alignment. For a unique match to the reference genome (example shown above)
the additional fields describe:
i. Match Chromosome: the name of the chromosome (or target) to which the
sequence aligns
j. Match Contig: if the chromosome file is given as a series of contigs, the name
of the matching contig will be used (usually blank)
k. Match Position: the position the sequence aligns to relative to the forward
strand
l. Match Strand: forward (F) or reverse (R) direction
m.Match Descriptor: a numeral denotes a run of matching bases, a letter denotes
a substitution. For example a “36” indicates a perfect match, and ?“31A4”
indicates a substitution of an A base in position 32.
n. Single Read Alignment Score: alignment score of the single read given on that
line.
o. Paired Read Alignment Score: alignment score of the single read along with its
pair in the other corresponding export file. This field is blank for single reads.
p. Partner Chromosome: if the second read for the pair maps to a different
chromosome, the second chromosome will be listed here. If the two reads map
to the same chromosome, this field remains blank. This field is also blank for
single reads.
q. Partner Config: populated only if the two reads map to different contigs,
otherwise is blank.
r. Partner Offset: The partner offset can be added to the match position (field k)
to identify the start position of the second read in the pair. Since the match
position is given relative to the forward direction, this number can be negative.
This field is blank for single reads.
s. Partner Strand: The strand to which the paired read aligns - forward (F) or
reverse (R). This field is blank for single reads and for reads where no match
was found.
t. Pass Filter: this read passes an internal filter where “N” means it did not pass
the filter and “Y” appears if it passes.


If the alignment is not a unique alignment, field i will be modified in one of four ways:
• N0:N1:N2 - number of perfect hits : number of hits with one error : number of hits
with 2 errors.
0:4:0 indicates the sequence aligns to the reference in four places each with a
single
mismatch
• NM - no match
• RM - read aligns to a repeat masked region
• QC - no alignment performed due to an excess of N?s
For reads that do not align uniquely, fields j-s are blank:
>GA2 4 1 784 500 1 GTTTAAGATTGCTGA ]]]]]]]]]]]]]^]] NM
>GA2 4 1 694 1096 1 GTGTCATTTTGGCTG YYYYYYYYYYNNYYY 0:3:0


2. *extended.txt FILES


Eland_extended format
A typical example is shown below.
>GA2:4:1:1:1397#0/1 CGAACTGCGATGGGCATACTGTAACCATAAGGCCAC 1:0:0
phiX174.fa:4874R36
>GA2:1:100:1793:814#0/1 GAATGCTGCAGTGAGCCATGATTGCACCACTGTACT 0:2:1
chr10.fa:102116562RC35,chr11.fa:56578046R31A4,chr19.fa:3041082RC31C3
Eland extended format contains four, tab delimited fields.
a. Sequence identifier (described above)
b. Sequence (shortened for clarity)
c. Match type:
• N0:N1:N2 - number of perfect hits : number of hits with one error : number
of hits with 2 errors.
0:4:0 indicates the sequence aligns to the reference in four places each
with a single
mismatch
• NM - no match
• RM - read aligns to a repeat masked region
• QC - no alignment performed due to an excess of N?s

d. Match location. A dash if no matches were found or if greater than the
maximum number of matches were found (default = 10), or a string containing
alignments separated by commas. For all alignments to a single reference,
the reference identifier is followed by a colon, followed by the start of each
match to that sequence, the direction (F or R), and a string representing the
alignment itself. This string starts at the beginning of the aligned region and
uses numbers to indicate strings of matches, and letters to indicate each
mismatch. For instance, “chr12.fa:82701055RT33A” indicates an alignment of
a 35 nucleotide sequence to the chr12.fa reference sequence, starting at
position 82701055, in the reverse direction, with a T mismatch at the first
nucleotide, and an A mismatch at the last nucleotide




</entry>



<entry [Tue Mar 16 15:24:39 EDT 2010] USE GAPipeline-1.5.0/bin/Splice_sites.pl TO GENERATE SPLICE JUNCTION DATABASE FILE>



	
Abhishek Pratap  	
View profile  
 More options Nov 3 2009, 3:54 pm
Hi All 
I am just wondering if anyone has experience with aligning 76 BP PE 
RNA-Seq reads produced by GA(Illumina). I have used ELAND_RNA in the 
past but the splice junctions data set provided by Illumina is limited 
to 50 bp runs . They dont have splice site data set for 76/100 BP PE 
run. 
I understand I can align against ReqSeq dataset but just wondering 
what others are doing ? 
Any other aligners that you think could do a good job taking into 
account the splice sites/exons. 
-Abhi 

    Forward  
 	
Brenton  	
View profile  
 More options Nov 4 2009, 6:55 am
Dear Abhi, 
You can use the Splice_sites.pl script (should be in /illumina/ 
pipeline/GAPipeline-1.5.0/bin/) to generate splice junction databases 
for whatever length you need to use with eland. 
We generate our own splice junction databases and use bowtie to align 
the reads to a single index of the genome and junctions at the same 
time. 
Brent 
On Nov 3, 3:54 pm, Abhishek Pratap <abhishek....@gmail.com> wrote: 

- Show quoted text -



MAIN POINTS

1. USE TWO TISSUE CULTURE (I.E., CLONED) SAMPLES AS GOLD STANDARD FOR SNPS

2. PUT THROUGH GSA FOR PATHWAYS

3. HOW TO DETERMINE THE DIFFERENCES BETWEEN:

    A SNP IN AN INDIVIDUAL WITHIN THE GLOBAL POPULATION
    
    A SNP IN AN INDIVIDUAL WITHIN A HETEROGENEOUS POPULATION
    
    SETS OF SNPS BY GENE, OR CHROMOSOME


NOTES
=====


SEGMENTAL DUPLICATIONS

http://humanparalogy.gs.washington.edu/build36/build36.htm

This page contains updated data regarding recent segmental duplications in the finishing human genome (build36; March 2006; hg18).   It focuses on genomic duplications >1 kb and >90% identity.








++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

CUFFCOMPARE

http://cufflinks.cbcb.umd.edu/manual.html#cufflinks_input







</entry>



<entry [Sat Mar 20 02:17:23 EDT 2010] RE-RUN parallel TOPHAT AND CUFFLINKS ON BIXBY SAMPLES 4 x 2 LANES>



INITIAL RUN FAILED WITH IDENTICAL ERROR TO 4-LANE RUN SO RERAN WITH NEWLY-ULTRA PARALLELISED TOPHAT.pl


TOPHAT/CUFFLINK ANALYSIS INFORMATION

Analysis  Lanes
1       1,2
2       3,4
3       5,8
4       6,7

SEQUENCING INFORMATION

Lane 	Sample       	Conc.
1	CGN LN 7.31.09 	8 pM
2	CGN LN 7.31.09 	8 pM
3	CGN LN 9.3.09 	8 pM
4	CGN LN 9.3.09 	8 pM
5   CGN CSPG 9.3.09     8 pM
6	CGN CSPG 7.31.09 	8 pM
7	CGN CSPG 7.31.09 	8 pM
8	CGN CSPG 9.3.09 	8 pM



ANALYSIS 1 (LN, 7.31.09)
========================

1	CGN LN 7.31.09 	8 pM
2	CGN LN 7.31.09 	8 pM


screen -S analysis1
mkdir -p /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/analysis1/


cd /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/analysis1/


perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
--inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_sequence.txt \
--params "--solexa1.3-quals" \
--distance 200 \
--queue "-q ngs" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/analysis1 \
--keep \
--cluster LSF \
--cpus 2 \
--maxjobs 1000 \
--species mouse \
--label run1+2



\
-reads 1000000


MERGED BAM FILES CREATED OKAY:
    
    [syoung@u02 analysis1.v1]$ ll */accepted_hits.bam
    -rw-r--r-- 1 syoung root 181M Apr  2 12:11 chr10/accepted_hits.bam
    -rw-r--r-- 1 syoung root 241M Apr  2 13:26 chr11/accepted_hits.bam
    -rw-r--r-- 1 syoung root 159M Apr  2 11:33 chr12/accepted_hits.bam
    -rw-r--r-- 1 syoung root 156M Apr  2 11:00 chr13/accepted_hits.bam
    -rw-r--r-- 1 syoung root  11M Apr  2 09:13 chr13_random/accepted_hits.bam
    -rw-r--r-- 1 syoung root 151M Apr  2 10:54 chr14/accepted_hits.bam
    -rw-r--r-- 1 syoung root 172M Apr  2 11:04 chr15/accepted_hits.bam
    -rw-r--r-- 1 syoung root 148M Apr  2 10:44 chr16/accepted_hits.bam
    -rw-r--r-- 1 syoung root 1.6M Apr  2 09:12 chr16_random/accepted_hits.bam
    -rw-r--r-- 1 syoung root 260M Apr  2 11:30 chr17/accepted_hits.bam
    -rw-r--r-- 1 syoung root  17M Apr  2 09:14 chr17_random/accepted_hits.bam
    -rw-r--r-- 1 syoung root 150M Apr  2 10:58 chr18/accepted_hits.bam
    -rw-r--r-- 1 syoung root 151M Apr  2 10:40 chr19/accepted_hits.bam
    -rw-r--r-- 1 syoung root 214M Apr  2 11:00 chr1/accepted_hits.bam
    -rw-r--r-- 1 syoung root  21M Apr  2 09:15 chr1_random/accepted_hits.bam
    -rw-r--r-- 1 syoung root 251M Apr  2 12:11 chr2/accepted_hits.bam
    -rw-r--r-- 1 syoung root 1.3M Apr  2 09:11 chr3_random/accepted_hits.bam
    -rw-r--r-- 1 syoung root 220M Apr  2 11:38 chr4/accepted_hits.bam
    -rw-r--r-- 1 syoung root 5.1M Apr  2 09:12 chr4_random/accepted_hits.bam
    -rw-r--r-- 1 syoung root 218M Apr  2 12:08 chr5/accepted_hits.bam
    -rw-r--r-- 1 syoung root  14M Apr  2 09:14 chr5_random/accepted_hits.bam
    -rw-r--r-- 1 syoung root 213M Apr  2 11:45 chr6/accepted_hits.bam
    -rw-r--r-- 1 syoung root 202M Apr  2 11:44 chr7/accepted_hits.bam
    -rw-r--r-- 1 syoung root  11M Apr  2 09:13 chr7_random/accepted_hits.bam
    -rw-r--r-- 1 syoung root 193M Apr  2 11:05 chr8/accepted_hits.bam
    -rw-r--r-- 1 syoung root  18M Apr  2 09:14 chr8_random/accepted_hits.bam
    -rw-r--r-- 1 syoung root 198M Apr  2 11:18 chr9/accepted_hits.bam
    -rw-r--r-- 1 syoung root  11M Apr  2 09:14 chr9_random/accepted_hits.bam
    -rw-r--r-- 1 syoung root  17M Apr  2 09:15 chrM/accepted_hits.bam
    -rw-r--r-- 1 syoung root  41M Apr  2 09:18 chrUn_random/accepted_hits.bam
    -rw-r--r-- 1 syoung root 158M Apr  2 10:39 chrX/accepted_hits.bam
    -rw-r--r-- 1 syoung root  25M Apr  2 09:15 chrX_random/accepted_hits.bam
    -rw-r--r-- 1 syoung root  37M Apr  2 09:17 chrY/accepted_hits.bam
    -rw-r--r-- 1 syoung root  49M Apr  2 09:19 chrY_random/accepted_hits.bam
    -rw-r--r-- 1 syoung root  49M Apr  2 03:49 chrY_random.safe/accepted_hits.bam


BUT SAM FILES ARE STUNTED, POSSIBLE SYSTEM FAILURE, OR STILL RUNNING?



SOLUTION:

    RERUN ON large QUEUE
    



ANALYSIS 2 (LN, 9.3.09)
========================

3	CGN LN 9.3.09 	8 pM
4	CGN LN 9.3.09 	8 pM

*** 'NGS' QUEUE ***

screen -S analysis2
mkdir -p /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2
cd /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
--inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_3_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_4_sequence.txt \
--params "--solexa1.3-quals" \
--distance 200 \
--queue "-q ngs" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat/analysis2 \
--keep \
--cluster LSF \
--cpus 2 \
--maxjobs 1000 \
--species mouse \
--label run3+4


STALLED AGAIN
    
    JOBID   USER    STAT  QUEUE      FROM_HOST   EXEC_HOST   JOB_NAME   SUBMIT_TIME
    327170  syoung  RUN   ngs        u02         n0528       *-chr11.sh Apr  2 19:27
    327187  syoung  RUN   ngs        u02         n0528       *random[2] Apr  2 19:43
    327192  syoung  RUN   ngs        u02         n0528       chrM[30]   Apr  2 19:43
    327192  syoung  RUN   ngs        u02         n0528       chrM[33]   Apr  2 19:43
    327184  syoung  RUN   ngs        u02         n0535       *s-chr2.sh Apr  2 19:27
    327187  syoung  RUN   ngs        u02         n0535       *random[7] Apr  2 19:43
    327187  syoung  RUN   ngs        u02         n0535       *random[8] Apr  2 19:43
    327192  syoung  RUN   ngs        u02         n0535       chrM[32]   Apr  2 19:43
    327187  syoung  RUN   ngs        u02         n0526       *random[1] Apr  2 19:43
    327192  syoung  RUN   ngs        u02         n0526       chrM[25]   Apr  2 19:43
    327192  syoung  RUN   ngs        u02         n0526       chrM[26]   Apr  2 19:43
    327192  syoung  RUN   ngs        u02         n0526       chrM[29]   Apr  2 19:43



RETRIED USING 1 CPU PER JOB:

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
--inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_3_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_4_sequence.txt \
--params "--solexa1.3-quals" \
--distance 200 \
--queue "-q ngs" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat \
--keep \
--cluster LSF \
--cpus 1 \
--maxjobs 1000 \
--species mouse \
--label run3+4


DISCOVERED PROBLEM IS THAT ONLY 67 AMD NODES ARE ACCEPTING JOBS:

    -----Original Message-----
    From: Young, Stuart 
    Sent: Saturday, April 03, 2010 12:00 AM
    To: CCS HPC (High Performance Computing - RT)
    Subject: RE: [ccstkt #3520] New Ticket: Array job not running correctly on AMD nodes?
    
    Hi Zongjun,
    
    I did some more investigation and discovered that only 67 AMD nodes are actually accepting jobs (4 CPUs x 67 nodes = 268 jobs, see the list of these nodes below).
    
    Here are the approximate node counts for the Intel and AMD groups (from 'lshosts'):
    
    Intel (small, medium, large, etc. queues)
    =========================================
    NODES: 280
    CPUS: 8 x 280 = 2240
    RUNNING: 275
    
    AMD (ngs queue)
    ===============
    NODES: 380
    CPUS: 4 x 380 = 1440
    RUNNING: 374
    
    Since I can only use AMD 67 nodes at present, I suppose these numbers don't reflect the actual number of nodes that we have currently available? 
    
    Is there some way to reboot/reconfigure the other AMD nodes that are not accepting jobs although they appear to be available?
    
    Cheers,
    
    Stuart.
    -------------------------------------
        
    Here's the list of 67 AMD nodes that are accepting jobs:
    
    491
    492
    493
    494
    ...
    558
    559
    560
    

SO RAN ON large QUEUE WITH 4 CPUs:

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
--inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_3_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_4_sequence.txt \
--params "--solexa1.3-quals" \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/tophat \
--keep \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--species mouse \
--label run3+4

    ...    
    Cluster::runJobs    Jobs remaining: 0
    Cluster::runJobs    Completed.
    Cluster::runJobs    cleanup not defined. Leaving scriptfiles.
    Cluster::runJobs    END OF Cluster::runJobs
    FINISHED RUNNING CUFFLINKS
    Cluster::lastBatchDuration    Cluster::lastBatchDuration()
    Use of uninitialized value in concatenation (.) or string at /nethome/bioinfo/apps/agua/0.4/bin/apps/../../lib/TOPHAT.pm line 483.
    Tophat::run    10-04-03 05:16:34        Completed cufflinks
    TOPHAT.pl    Run time: 04:25:45
    TOPHAT.pl    Completed /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl
    TOPHAT.pl    5:16AM, 3 April 2010
    TOPHAT.pl    ****************************************



	OK!




ANALYSIS 3 (CSPG, 7.31.09)
========================

6	CGN CSPG 7.31.09 	8 pM
7	CGN CSPG 7.31.09 	8 pM


*** 'LARGE' QUEUE ***


screen -S analysis3
mkdir -p /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis3/
cd /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis3/

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
--inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_6_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_7_sequence.txt \
--params "--mate-inner-dist 200 --solexa1.3-quals" \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis3 \
--keep \
--cluster LSF \
--cpus 2 \
--maxjobs 1000 \
--species mouse \
--label run6+7




    RUNNING     Fri Apr  2 19:45:42 EDT 2010

    ...    
    Monitor::LSF::submit    COMMAND: bsub -q large -J chr1[1-45] -o /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis3/chr1/%I/chr1-stdout.%J.txt.%J.%I /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis3/chr1/chr1.sh
    Job <327254> is submitted to queue <large>.
    Monitor::LSF::submit   job: 
    $VAR1 = bless( {
                     '-id' => '327254'
                   }, 'LSF::Job' );
    Monitor::LSF::submitJob   job_id: 327254
    Cluster::runJobs    jobid: 327254
    Cluster::runJobs    Fri Apr  2 19:45:29 EDT 2010    No. jobs: 34 (maxjobs: 1000)
    Cluster::runJobs    Waiting until the last jobs are finished (34 left)...
    Cluster::runJobs    Jobs remaining: 34
    Cluster::runJobs    Jobs remaining: 34
    ...
    
        [syoung@u02 analysis2]$ bqueues
        QUEUE_NAME      PRIO STATUS          MAX JL/U JL/P JL/H NJOBS  PEND   RUN  SUSP 
        small           100  Open:Active       -    -    -    -     0     0     0     0
        medium           90  Open:Active       -    -    -    -     0     0     0     0
        large            80  Open:Active       -    -    -    -  1530   285  1245     0
        ngs              80  Open:Active       -    -    -    -  1578  1310   268     0
        mpi              80  Open:Active       -    -    -    -     0     0     0     0
        test             80  Open:Active       -    -    -    -   259     0   259     0
        sagempi          80  Open:Active       -    -    -    -     0     0     0     0
        kirtman          80  Open:Active       -    -    -    -     0     0     0     0
        dev              80  Open:Active       -    -    -    -     0     0     0     0
        [syoung@u02 analysis2]$

    ...
    Cluster::runJobs    Jobs remaining: 0
    Cluster::runJobs    Completed.
    Cluster::runJobs    cleanup not defined. Leaving scriptfiles.
    Cluster::runJobs    END OF Cluster::runJobs
    FINISHED RUNNING CUFFLINKS
    Cluster::lastBatchDuration    Cluster::lastBatchDuration()
    Use of uninitialized value in concatenation (.) or string at /nethome/bioinfo/apps/agua/0.4/bin/apps/../../lib/TOPHAT.pm line 483.
    Tophat::run    10-04-03 06:41:06        Completed cufflinks
    TOPHAT.pl    Run time: 10:56:08
    TOPHAT.pl    Completed /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl
    TOPHAT.pl    6:41AM, 3 April 2010
    TOPHAT.pl    ****************************************



ANALYSIS 4 (CSPG, 9.3.09)
========================

5   CGN CSPG 9.3.09     8 pM
8	CGN CSPG 9.3.09 	8 pM


screen -S analysis4 
mkdir -p /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis4/

cd /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis4/

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
--inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_5_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_8_sequence.txt \
--params "--mate-inner-dist 200 --solexa1.3-quals" \
--distance 200 \
--queue "-q large" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis4 \
--keep \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--species mouse \
--label run5+8



    RUNNING
    Sun Apr  4 02:19:06 EDT 2010
    
    [syoung@u02 tempfile]$ bqueues
    QUEUE_NAME      PRIO STATUS          MAX JL/U JL/P JL/H NJOBS  PEND   RUN  SUSP 
    small           100  Open:Active       -    -    -    -     0     0     0     0
    medium           90  Open:Active       -    -    -    -     0     0     0     0
    large            80  Open:Active       -    -    -    -  5712  3480  2232     0
    ngs              80  Open:Active       -    -    -    -     0     0     0     0
    mpi              80  Open:Active       -    -    -    -     0     0     0     0
    test             80  Open:Active       -    -    -    -   252     0   252     0
    sagempi          80  Open:Active       -    -    -    -     0     0     0     0
    kirtman          80  Open:Active       -    -    -    -     0     0     0     0
    dev              80  Open:Active       -    -    -    -     0     0     0     0
    [syoung@u02 tempfile]$ perl -e 'print 2232/4';
    558[syoung@u02 tempfile]$ 

    
    [syoung@u02 tempfile]$ bpeek 328067[1]
    << output from stdout >>
    LS_JOBID: 
    LS_JOBPID:  25842
    LSB_JOBINDEX:  1
    LSB_JOBNAME:  chrY_random[1-42]
    LSB_QUEUE:  large
    LSFUSER:  syoung
    LSB_JOB_EXECUSER:  syoung
    HOSTNAME:  n0230.pegasus.edu
    LSB_HOSTS:  n0230 n0230 n0230 n0230
    LSB_ERRORFILE: 
    LSB_JOBFILENAME:  /nethome/syoung/.lsbatch/1270361858.328067.1
    LD_LIBRARY_PATH:  /share/apps/lsf/7.0/linux2.6-glibc2.3-x86_64/lib:
    
    outputdir:  /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis4/chrY_random
    
    inputfile:  /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis4/1/run5+8_1.1.txt
    time /nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat --num-threads 4 --mate-inner-dist 200 --solexa1.3-quals --output-dir /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis4/chrY_random/1 --mate-inner-dist 200 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie/chrY_random /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis4/1/run5+8_1.1.txt 
    
    [Sun Apr  4 02:17:42 2010] Beginning TopHat run (v1.0.12)
    -----------------------------------------------
    [Sun Apr  4 02:17:42 2010] Preparing output location /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/analysis4/chrY_random/1/
    [Sun Apr  4 02:17:43 2010] Checking for Bowtie index files
    [Sun Apr  4 02:17:43 2010] Checking for reference FASTA file
    [Sun Apr  4 02:17:43 2010] Checking for Bowtie
            Bowtie version:          0.12.2.0
    [Sun Apr  4 02:17:43 2010] Checking reads
            seed length:     52bp
            format:          fastq
            quality scale:   --solexa1.3-quals
    [Sun Apr  4 02:20:00 2010] Mapping reads against chrY_random with Bowtie
    [Sun Apr  4 02:24:16 2010] Joining segment hits
            Splitting reads into 2 segments
    ...
    [Sun Apr  4 02:42:47 2010] Mapping reads against chrY_random with Bowtie
    [Sun Apr  4 02:57:12 2010] Mapping reads against chrY_random with Bowtie
    [Sun Apr  4 03:04:16 2010] Searching for junctions via segment mapping
    [Sun Apr  4 03:14:15 2010] Retrieving sequences for splices
    [Sun Apr  4 03:16:18 2010] Indexing splices
    ...
    FINISHED RUNNING CUFFLINKS
    Cluster::lastBatchDuration    Cluster::lastBatchDuration()
    Use of uninitialized value in concatenation (.) or string at /nethome/bioinfo/apps/agua/0.4/bin/apps/../../lib/TOPHAT.pm line 483.
    Tophat::run    10-04-04 08:18:00        Completed cufflinks
    TOPHAT.pl    Run time: 06:00:24
    TOPHAT.pl    Completed /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl
    TOPHAT.pl    8:18AM, 4 April 2010
    TOPHAT.pl    ****************************************


FAKE PAIRED END TOPHAT RUN
==========================

CREATE DUMMY SECONDMATE FILES BY COPYING FROM FIRSTMATE FILES

ln -s /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_sequence.txt /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_1_sequence.txt
ln -s /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_sequence.txt /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_2_sequence.txt
ln -s /nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_sequence.txt /nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_1_sequence.txt
ln -s /nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_sequence.txt /nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_2_sequence.txt

    
cd /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/analysis1/

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
--inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_1_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_1_sequence.txt \
--matefiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_2_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_2_sequence.txt \
--params "--solexa1.3-quals" \
--distance 200 \
--queue "-q ngs" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/analysis1 \
--label bixln \
--keep \
--cluster LSF \
--cpus 4 \
--maxjobs 1000 \
--species mouse

    
    syoung@u02 analysis1]$ bg
    [5]+ perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl --inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_sequence.txt --params "--mate-inner-dist 200 --solexa1.3-quals" --distance 200 --queue "-q ngs" --gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf --reference /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie --outputdir /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/analysis1 --label bixln --keep --cluster LSF --cpus 4 --maxjobs 1000 --species mouse &
    [syoung@u02 analysis1]$ Cluster::runJobs    Doing submitJob()
    Job <135211> is submitted to queue <ngs>.
    Cluster::runJobs    jobid: 135211
    Cluster::runJobs    Added jobid 135211 to list (now 132 maxjobs): 135080 135081 135082 135083 135084 135085 135086 135087 135088 135089 135090 135091 135092 135093 135094 135095 135096 135097 135098 135099 135100 135101 135102 135103 135104 135105 135106 135107 135108 135109 135110 135111 135112 135113 135114 135115 135116 135117 135118 135119 135120 135121 135122 135123 135124 135125 135126 135127 135128 135129 135130 135131 135132 135133 135134 135135

    Cluster::runJobs    Sleeping 5 seconds...
    Cluster::runJobs    Sleeping 5 seconds...
    Cluster::runJobs    Sleeping 5 seconds...
    Cluster::runJobs    Sleeping 5 seconds...
    Cluster::runJobs    Sleeping 5 seconds...
    Cluster::runJobs    Sleeping 5 seconds...
    Cluster::runJobs    Waiting until the last jobs are finished (29 left)...
    Cluster::runJobs    Completed.
    Cluster::runJobs    END OF Cluster::runJobs
    TOPHAT.pl    10-03-21 02:38:09    24:28:10    Completed TOPHAT alignment and CUF
    FLINKS transcriptome prediction
    TOPHAT.pl    Run time: 24:28:10
    TOPHAT.pl    Completed /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl
    TOPHAT.pl    2:38AM, 21 March 2010
    TOPHAT.pl    ****************************************







</entry>



<entry [Fri Mar 19 05:50:12 EDT 2010] RUN parallel TOPHAT AND CUFFLINKS ON ALL BIXBY SAMPLES>




SAMPLE LN
=========

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/
cd /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
--inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_3_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_4_sequence.txt \
--params "--mate-inner-dist 200 --solexa1.3-quals" \
--distance 200 \
--queue "-q ngs" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--referencedir /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi \
--label bixln \
--keep \
--cluster LSF \
--cpus 4

    
    Cluster::runJobs    Sleeping 5 seconds...
    Cluster::runJobs    Sleeping 5 seconds...
    Cluster::runJobs    Sleeping 5 seconds...
    Cluster::runJobs    Waiting until the last jobs are finished (29 left)...
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    Cluster::runJobs    Completed.
    Cluster::runJobs    END OF Cluster::runJobs
    TOPHAT.pl    10-03-21 01:08:36    43:14:17    Completed TOPHAT alignment and CUF
    FLINKS transcriptome prediction
    TOPHAT.pl    Run time: 43:14:17
    TOPHAT.pl    Completed /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl
    TOPHAT.pl    1:08AM, 21 March 2010
    TOPHAT.pl    ****************************************
    
    
    [syoung@u01 tophat-multi]$ perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.p
    l --inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_sequence.txt,/
    nethome/bioinfo/data/sequence/labs/bixby/run1/s_2_sequence.txt,/nethome/bioinfo/
    data/sequence/labs/bixby/run1/s_3_sequence.txt,/nethome/bioinfo/data/sequence/la
    bs/bixby/run1/s_4_sequence.txt --params "--mate-inner-dist 200 --solexa1.3-quals
    " --distance 200 --queue "-q ngs" --gtf /nethome/bioinfo/data/sequence/chromosom
    es/mouse/mm9/cufflinks/mm9-knownGene.gtf --referencedir /nethome/bioinfo/data/se
    quence/chromosomes/mouse/mm9/bowtie --outputdir /scratch/syoung/base/pipeline/bi
    xby/run1/ln/tophat-multi --label bixln --keep --cluster LSF --cpus 4


CHR*-RANDOM ANALYSES FAILED:

emacs /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrX_random/top-andom-stdout.txt 

    [Fri Mar 19 05:54:29 2010] Beginning TopHat run (v1.0.12)
    -----------------------------------------------
    [Fri Mar 19 05:54:29 2010] Preparing output location /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chr\
    X_random/
    [Fri Mar 19 05:54:29 2010] Checking for Bowtie index files
    [Fri Mar 19 05:54:29 2010] Checking for reference FASTA file
    [Fri Mar 19 05:54:29 2010] Checking for Bowtie
            Bowtie version:          0.12.2.0
    [Fri Mar 19 05:54:29 2010] Checking reads
            seed length:     52bp
            format:          fastq
            quality scale:   --solexa1.3-quals
    [Fri Mar 19 09:34:38 2010] Mapping reads against chrX_random with Bowtie
    [Fri Mar 19 13:26:14 2010] Joining segment hits
            Splitting reads into 2 segments
    [Fri Mar 19 19:30:46 2010] Mapping reads against chrX_random with Bowtie
    [Fri Mar 19 21:02:55 2010] Mapping reads against chrX_random with Bowtie
    [Fri Mar 19 22:22:10 2010] Searching for junctions via segment mapping
            [FAILED]
    Error: segment-based junction search failed with err = -9
    Traceback (most recent call last):
      File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 1518, in ?
        sys.exit(main())
      File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 1478, in main
        user_supplied_juncs)
      File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 1320, in spliced_alignment
        ref_fasta)
      File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 1137, in junctions_from_segments
        exit(1)
    TypeError: 'str' object is not callable
    
    real    1051m32.414s
    user    477m36.942s
    sys     8m34.092s
    printenv



ls -al ln/*/*/tmp/left_kept_reads_seg2_missing.fq | grep random
-rw-rw-rw- 1 syoung root 5862687525 Mar 19 20:39 ln/tophat-multi/chr13_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5895444126 Mar 19 20:23 ln/tophat-multi/chr16_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5831134407 Mar 19 20:54 ln/tophat-multi/chr17_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5834246267 Mar 19 23:25 ln/tophat-multi/chr1_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5883078424 Mar 20 01:18 ln/tophat-multi/chr3_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5868621170 Mar 19 21:54 ln/tophat-multi/chr4_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5863532159 Mar 19 20:32 ln/tophat-multi/chr5_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5858653260 Mar 19 19:46 ln/tophat-multi/chr7_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5836602691 Mar 19 22:44 ln/tophat-multi/chr8_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5842176788 Mar 19 20:19 ln/tophat-multi/chr9_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5805319223 Mar 19 22:16 ln/tophat-multi/chrUn_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5829360204 Mar 19 22:16 ln/tophat-multi/chrX_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5805618877 Mar 19 23:55 ln/tophat-multi/chrY_random/tmp/left_kept_reads_seg2_missing.fq


[syoung@u02 run1]$ ls -al ln/*/*/tmp/left_kept_reads_seg2_missing.fq | grep random
-rw-rw-rw- 1 syoung root 5862687525 Mar 19 20:39 ln/tophat-multi/chr13_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5895444126 Mar 19 20:23 ln/tophat-multi/chr16_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5831134407 Mar 19 20:54 ln/tophat-multi/chr17_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5834246267 Mar 19 23:25 ln/tophat-multi/chr1_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5883078424 Mar 20 01:18 ln/tophat-multi/chr3_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5868621170 Mar 19 21:54 ln/tophat-multi/chr4_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5863532159 Mar 19 20:32 ln/tophat-multi/chr5_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5858653260 Mar 19 19:46 ln/tophat-multi/chr7_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5836602691 Mar 19 22:44 ln/tophat-multi/chr8_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5842176788 Mar 19 20:19 ln/tophat-multi/chr9_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5805319223 Mar 19 22:16 ln/tophat-multi/chrUn_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5829360204 Mar 19 22:16 ln/tophat-multi/chrX_random/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5805618877 Mar 19 23:55 ln/tophat-multi/chrY_random/tmp/left_kept_reads_seg2_missing.fq






BUT NORMAL CHR* ANALYSES CONTINUING:


ls -al /scratch/syoung/base/pipeline/bixby/run1/ln/*/*/tmp/left_kept_reads_seg2_missing.fq | grep "chr./"
-rw-rw-rw- 1 syoung root 3686268968 Mar 20 01:24 ln/tophat-multi/chr4/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root  310688857 Mar 20 01:24 ln/tophat-multi/chr7/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 4288751215 Mar 20 01:24 ln/tophat-multi/chr8/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 1970998540 Mar 20 01:24 ln/tophat-multi/chr9/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5836051355 Mar 19 20:46 ln/tophat-multi/chrM/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 2769019362 Mar 20 01:24 ln/tophat-multi/chrX/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5812037568 Mar 19 22:39 ln/tophat-multi/chrY/tmp/left_kept_reads_seg2_missing.fq

PAUSE

ls -al /scratch/syoung/base/pipeline/bixby/run1/ln/*/*/tmp/left_kept_reads_seg2_missing.fq | grep "chr./"
-rw-rw-rw- 1 syoung root 3740543678 Mar 20 01:26 ln/tophat-multi/chr4/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root  324232145 Mar 20 01:26 ln/tophat-multi/chr7/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 4318785536 Mar 20 01:26 ln/tophat-multi/chr8/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 2014011392 Mar 20 01:26 ln/tophat-multi/chr9/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5836051355 Mar 19 20:46 ln/tophat-multi/chrM/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 2829320946 Mar 20 01:25 ln/tophat-multi/chrX/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5812037568 Mar 19 22:39 ln/tophat-multi/chrY/tmp/left_kept_reads_seg2_missing.fq

PAUSE

ls -al /scratch/syoung/base/pipeline/bixby/run1/ln/*/*/tmp/left_kept_reads_seg2_missing.fq | grep "chr./"
-rw-rw-rw- 1 syoung root 4238007113 Mar 20 01:36 /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chr4/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root  458702349 Mar 20 01:36 /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chr7/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 4529111818 Mar 20 01:36 /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chr8/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 2273787376 Mar 20 01:36 /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chr9/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5836051355 Mar 19 20:46 /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrM/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 3399525630 Mar 20 01:36 /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrX/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 5812037568 Mar 19 22:39 /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrY/tmp/left_kept_reads_seg2_missing.fq



ALSO chr** FILES:

ls -al /scratch/syoung/base/pipeline/bixby/run1/ln/*/*/tmp/left_kept_reads_seg2_missing.fq | grep "chr../"
-rw-rw-rw- 1 syoung root  416914016 Mar 20 01:24 ln/tophat-multi/chr10/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 1257524532 Mar 20 01:24 ln/tophat-multi/chr11/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root  571906318 Mar 20 01:24 ln/tophat-multi/chr12/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root  125990649 Mar 20 01:24 ln/tophat-multi/chr14/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 3168855647 Mar 20 01:25 ln/tophat-multi/chr16/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 4145127492 Mar 20 01:25 ln/tophat-multi/chr17/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 2372970784 Mar 20 01:24 ln/tophat-multi/chr18/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 3701178615 Mar 20 01:25 ln/tophat-multi/chr19/tmp/left_kept_reads_seg2_missing.fq


PAUSE

ls -al /scratch/syoung/base/pipeline/bixby/run1/ln/*/*/tmp/left_kept_reads_seg2_missing.fq | grep "chr../"
-rw-rw-rw- 1 syoung root  431620096 Mar 20 01:25 ln/tophat-multi/chr10/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 1276171713 Mar 20 01:25 ln/tophat-multi/chr11/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root  587605342 Mar 20 01:26 ln/tophat-multi/chr12/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root  142775769 Mar 20 01:25 ln/tophat-multi/chr14/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 3185975582 Mar 20 01:25 ln/tophat-multi/chr16/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 4161368850 Mar 20 01:25 ln/tophat-multi/chr17/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 2408039965 Mar 20 01:25 ln/tophat-multi/chr18/tmp/left_kept_reads_seg2_missing.fq
-rw-rw-rw- 1 syoung root 3738793206 Mar 20 01:26 ln/tophat-multi/chr19/tmp/left_kept_reads_seg2_missing.fq



BUT chrY ALSO FAILED at 'Searching for junctions via segment mapping' STAGE


ll /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrY/tmp/

    ...
    [Fri Mar 19 05:54:29 2010] Beginning TopHat run (v1.0.12)
    -----------------------------------------------
    [Fri Mar 19 05:54:29 2010] Preparing output location /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrY/
    [Fri Mar 19 05:54:29 2010] Checking for Bowtie index files
    [Fri Mar 19 05:54:29 2010] Checking for reference FASTA file
    [Fri Mar 19 05:54:29 2010] Checking for Bowtie
            Bowtie version:          0.12.2.0
    [Fri Mar 19 05:54:29 2010] Checking reads
            seed length:     52bp
            format:          fastq
            quality scale:   --solexa1.3-quals
    [Fri Mar 19 09:31:21 2010] Mapping reads against chrY with Bowtie
    [Fri Mar 19 13:28:47 2010] Joining segment hits
            Splitting reads into 2 segments
    [Fri Mar 19 19:33:05 2010] Mapping reads against chrY with Bowtie
    [Fri Mar 19 21:14:15 2010] Mapping reads against chrY with Bowtie
    [Fri Mar 19 22:44:53 2010] Searching for junctions via segment mapping
            [FAILED]
    Error: segment-based junction search failed with err = -9
    Traceback (most recent call last):
      File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 1518, in ?
        sys.exit(main())
      File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 1478, in main
        user_supplied_juncs)
      File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 1320, in spliced_alignment
        ref_fasta)
      File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 1137, in junctions_from_segments
        exit(1)
    TypeError: 'str' object is not callable
    
    real    1065m20.130s
    user    515m56.053s
    sys     9m33.493s
    ...


emacs /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrY/top-chrY.sh

    #!/bin/sh                                                                                          
    #BSUB -J top-chrY               # The name of the job                                              #BSUB -o /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrY/top-chrY-stdout.txt         #BSUB -e /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrY/top-chrY-stderr.txt         
    echo "LS_JOBID: " $LS_JOBID
    echo "LS_JOBPID: " $LS_JOBPID
    echo "LSB_JOBINDEX: " $LSB_JOBINDEX
    echo "LSB_JOBNAME: " $LSB_JOBNAME
    echo "LSB_QUEUE: " $LSB_QUEUE
    echo "LSFUSER: " $LSFUSER
    echo "LSB_JOB_EXECUSER: " $LSB_JOB_EXECUSER
    echo "HOSTNAME: " $HOSTNAME
    echo "LSB_HOSTS: " $LSB_HOSTS
    echo "LSB_ERRORFILE: " $LSB_ERRORFILE
    echo "LSB_JOBFILENAME: " $LSB_JOBFILENAME
    echo "LD_LIBRARY_PATH: " $LD_LIBRARY_PATH
    
    export PATH=/nethome/bioinfo/apps/BOWTIE/0.12.2:$PATH
    export PATH=/nethome/bioinfo/apps/TOPHAT/0.1.12/bin:$PATH
    export PATH=/scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrY:$PATH
    
    cd /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrY
    
    time /nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat \                                              --num-threads 4 \                                                                                  --mate-inner-dist 200 --solexa1.3-quals \                                                          --output-dir /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrY \                       --mate-inner-dist 200 \                                                                            /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie/chrY \                                 \/nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_\
    2_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_3_sequence.txt,/nethome/bioinfo/data/sequence/lab\
    s/bixby/run1/s_4_sequence.txt
    
    cd /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrY
    
    time /nethome/bioinfo/apps/CUFFLINKS/0.7.0/bin/cufflinks \                                         --inner-dist-mean 200 \                                                                            --label bixln \                                                                                    --num-threads 4 \                                                                                  --GTF /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \           /scratch/syoung/base/pipeline/bixby/run1/ln/tophat-multi/chrY/accepted_hits.sam
    
    echo "printenv"
    /usr/bin/printenv







SAMPLE CSPG
===========

screen -S top-cuf-cspg

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/
cd /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
--inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_5_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_6_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_7_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_8_sequence.txt \
--params "--mate-inner-dist 200 --solexa1.3-quals" \
--distance 200 \
--queue "-q ngs" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--referencedir /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi \
--label bixcspg \
--keep \
--cluster LSF \
--cpus 4

    ... 
    Cluster::runJobs    Sleeping 5 seconds...
    Cluster::runJobs    Sleeping 5 seconds...
    Cluster::runJobs    Sleeping 5 seconds...
    Cluster::runJobs    Waiting until the last jobs are finished (29 left)...
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    LSF daemon (LIM) not responding ... still trying
    Cluster::runJobs    Completed.
    Cluster::runJobs    END OF Cluster::runJobs
    TOPHAT.pl    10-03-21 00:23:15    42:25:49    Completed TOPHAT alignment and CUF
    FLINKS transcriptome prediction
    TOPHAT.pl    Run time: 42:25:49
    TOPHAT.pl    Completed /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl
    TOPHAT.pl    0:23AM, 21 March 2010
    TOPHAT.pl    ****************************************
    
    
    [syoung@u01 tophat-multi]$ perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.p
    l --inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_5_sequence.txt,/
    nethome/bioinfo/data/sequence/labs/bixby/run1/s_6_sequence.txt,/nethome/bioinfo/
    data/sequence/labs/bixby/run1/s_7_sequence.txt,/nethome/bioinfo/data/sequence/la
    bs/bixby/run1/s_8_sequence.txt --params "--mate-inner-dist 200 --solexa1.3-quals
    " --distance 200 --queue "-q ngs" --gtf /nethome/bioinfo/data/sequence/chromosom
    es/mouse/mm9/cufflinks/mm9-knownGene.gtf --referencedir /nethome/bioinfo/data/se
    quence/chromosomes/mouse/mm9/bowtie --outputdir /scratch/syoung/base/pipeline/bi
    xby/run1/cspg/tophat-multi --label bixcspg --keep --cluster LSF --cpus 4




cd /scratch/syoung/base/pipeline/bixby/run1/
ll */*/*

tail cspg/tophat-multi/chr8/logs/run.log 

/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat --num-threads 4 --mate-inner-dist 200 --solexa1.3-quals --output-dir /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/chr8 --mate-inner-dist 200 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie/chr8 /nethome/bioinfo/data/sequence/labs/bixby/run1/s_5_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_6_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_7_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_8_sequence.txt
/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/prep_reads -Q -q /nethome/bioinfo/data/sequence/labs/bixby/run1/s_5_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_6_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_7_sequence.txt,/nethome/bioinfo/data/sequence/labs/bixby/run1/s_8_sequence.txt
bowtie --solexa1.3-quals -q --un /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/chr8/tmp//left_kept_reads_missing.fq --max /dev/null -v 2 -p 4 -k 40 -m 40 /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie/chr8 /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/chr8/left_kept_reads.fq | /nethome/bioinfo/apps/TOPHAT/0.1.12/bin/fix_map_ordering --fastq /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/chr8/left_kept_reads.fq - > /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/chr8/tmp/fileVU1FCs






PROBLEM:

SLOW SPEED OF TOPHAT AND CUFFLINKS FAILED TO COMPLETE WITH FOUR LANES OF SEQUENCE


SOLUTION:

1. ADD --referencedir OPTION TO TOPHAT.pl TO BATCH BY CHROMOSOME (AND DO CUFFLINKS)


2. LATER: CREATE CUFFLINKS.pl WITH --parallel FLAG TO BATCH BY CHROMOSOME


NB: EXECUTABLE PATHS

BOWTIE
/nethome/bioinfo/apps/BOWTIE/0.12.2

TOPHAT
/nethome/bioinfo/apps/TOPHAT/0.1.12/bin

CUFFLINKS
/nethome/bioinfo/apps/CUFFLINKS/0.7.0/bin




1. BUILD BY-CHROMOSOME BOWTIE INDEX FILES
=========================================


1.1 DOWNLOAD UCSC CHROMOSOMES ON pegasus

mkdir -p /nethome/bioinfo/data/sequence/chromosomes/mouse/bowtie
cd /nethome/bioinfo/data/sequence/chromosomes/mouse/bowtie


wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr1.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr1_random.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr2.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr3.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr3_random.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr4.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr4_random.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr5.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr5_random.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr6.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr7.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr7_random.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr8.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr8_random.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr9.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr9_random.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr10.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr11.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr12.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr13.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr13_random.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr14.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr15.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr16.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr16_random.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr17.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr17_random.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr18.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chr19.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chrM.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chrUn_random.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chrX.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chrX_random.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chrY.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/chrY_random.fa.gz
wget http://hgdownload.cse.ucsc.edu/goldenPath/mm9/chromosomes/md5sum.txt           


1.2 UNZIP AND CONVERT

gunzip *gz


1.3 BUILD INDEX

http://bowtie-bio.sourceforge.net/tutorial.shtml

cd /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie



BUILD ALL INDEXES:
(TOOK 9 MINS FOR CHR2 BUT 1 MIN FOR CHRY)

time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build  chr1.fa chr1
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build  chr1_random.fa chr1_random
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build  chr2.fa chr2
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr3.fa chr3
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr3_random.fa chr3_random
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr4.fa chr4
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr4_random.fa chr4_random
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr5.fa chr5
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr5_random.fa chr5_random
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr6.fa chr6
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr7.fa chr7
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr7_random.fa chr7_random
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr8.fa chr8
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr8_random.fa chr8_random
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr9.fa chr9
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr9_random.fa chr9_random
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr10.fa chr10
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr11.fa chr11
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr12.fa chr12
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr13.fa chr13
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr13_random.fa chr13_random
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr14.fa chr14
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr15.fa chr15
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr16.fa chr16
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr16_random.fa chr16_random
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr17.fa chr17
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr17_random.fa chr17_random
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr18.fa chr18
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chr19.fa chr19
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chrM.fa chrM
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chrUn_random.fa chrUn_random
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chrX.fa chrX
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chrX_random.fa chrX_random
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chrY.fa chrY
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chrY_random.fa chrY_random
time /nethome/bioinfo/apps/BOWTIE/0.12.2/bowtie-build chrY.fa chrY


COPY OVER TO PEGASUS:

scp chr1* syoung@pegasus.ccs.miami.edu:/nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie
scp chr2* syoung@pegasus.ccs.miami.edu:/nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie
...



3. DOWNLOAD GTF ANNOTATED knownGenes.txt FILE FOR HUMAN AND MOUSE
=================================================================

MOUSE
http://genome.ucsc.edu/cgi-bin/hgTables?hgsid=154487315&clade=mammal&org=Mouse&db=0&hgta_group=genes&hgta_track=exoniphy&hgta_table=exoniphy&hgta_regionType=genome&position=&hgta_outputType=primaryTable&hgta_outFileName=

HUMAN
http://genome.ucsc.edu/cgi-bin/hgTables?hgsid=154487315&clade=mammal&org=Human&db=0&hgta_group=genes&hgta_track=knownGene&hgta_table=knownGene&hgta_regionType=genome&position=&hgta_outputType=gff&hgta_outFileName=hg19-knownGene.gtf




4. RUN IN SCRATCH
=================

/scratch/syoung/base/pipeline/SRA/NA18507


4.1 CREATE SHORT FILE:

chopfile /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1_sequence.txt /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1-100000_sequence.txt 100000


4.2 TEST WITH SHORT FILE FIRST ON /nethome:

cd /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
--inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1-100000_sequence.txt \
--params "--mate-inner-dist 200 --solexa1.3-quals" \
--distance 200 \
--queue "-q psmall" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--referencedir /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--outputdir /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat-multi \
--label bixln \
--cluster LSF \
--keep \
--cpus 4

    
    TOPHAT.pl    Run time: 00:01:49
    TOPHAT.pl    Completed /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl
    TOPHAT.pl    5:30AM, 19 March 2010
    TOPHAT.pl    ****************************************


4.3 RUN ON SCRATCH

/scratch/syoung/base/pipeline/SRA/NA18507

mkdir -p /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/
cd /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/

cd /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
--inputfiles /nethome/bioinfo/data/sequence/labs/bixby/run1/s_1-100000_sequence.txt \
--params "--mate-inner-dist 200 --solexa1.3-quals" \
--distance 200 \
--queue "-q ngs" \
--gtf /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
--referencedir /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie \
--outputdir /scratch/syoung/base/pipeline/bixby/run1/cspg/tophat-multi \
--label bixln \
--keep \
--cluster LSF \
--cpus 4

    TOPHAT.pl    1268991883    00:00:33    Completed TOPHAT alignment and CUFFLINKS transcriptome prediction
    TOPHAT.pl    Run time: 00:00:33
    TOPHAT.pl    Completed /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl
    TOPHAT.pl    5:44AM, 19 March 2010
    TOPHAT.pl    ****************************************

OUTPUT FILES:

cd /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/chrY_random
ll

	-rw-r--r-- 1 syoung bioinfo 86143 Mar 19 04:02 accepted_hits.sam
	-rw-r--r-- 1 syoung bioinfo 31155 Mar 19 04:03 coverage.wig
	-rw-r--r-- 1 syoung bioinfo    52 Mar 19 04:02 junctions.bed
	drwxr-xr-x 2 syoung bioinfo  2048 Mar 19 04:02 logs


ll logs

	-rw-r--r-- 1 syoung bioinfo 11288 Mar 19 04:02 bowtie_build.log
	-rw-r--r-- 1 syoung bioinfo    45 Mar 19 04:02 juncs_db.log
	-rw-r--r-- 1 syoung bioinfo   864 Mar 19 04:02 long_spanning_reads.log
	-rw-r--r-- 1 syoung bioinfo    93 Mar 19 04:02 prep_reads.log
	-rw-r--r-- 1 syoung bioinfo   179 Mar 19 04:02 reports.log
	-rw-r--r-- 1 syoung bioinfo  8846 Mar 19 04:03 run.log
	-rw-r--r-- 1 syoung bioinfo  1093 Mar 19 04:02 segment_juncs.log
	-rw-r--r-- 1 syoung bioinfo     0 Mar 19 04:02 unspliced_bwt.log



export PATH=/nethome/bioinfo/apps/BOWTIE/0.12.2:$PATH
export PATH=/nethome/bioinfo/apps/TOPHAT/0.1.12/bin:$PATH
export PATH=/nethome/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/chrY_random:$PATH

cd /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/chrY_random

time /nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat \
--num-threads 4 \
--mate-inner-dist 200 --solexa1.3-quals \
--output-dir /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/chrY_random \
--mate-inner-dist 200 \
/nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/bowtie/chrY_random \
/nethome/bioinfo/data/sequence/labs/bixby/run1/s_1-100000_sequence.txt 



	[Fri Mar 19 04:02:31 2010] Beginning TopHat run (v1.0.12)
	-----------------------------------------------[Fri Mar 19 04:02:31 2010] Preparing output location /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/chrY_random/
	[Fri Mar 19 04:02:31 2010] Checking for Bowtie index files
	[Fri Mar 19 04:02:31 2010] Checking for reference FASTA file
	[Fri Mar 19 04:02:31 2010] Checking for Bowtie
			Bowtie version:          0.12.2.0
	[Fri Mar 19 04:02:31 2010] Checking reads
			seed length:     52bp
			format:          fastq
			quality scale:   --solexa1.3-quals
	[Fri Mar 19 04:02:34 2010] Mapping reads against chrY_random with Bowtie
	[Fri Mar 19 04:02:38 2010] Joining segment hits
			Splitting reads into 2 segments
	[Fri Mar 19 04:02:39 2010] Mapping reads against chrY_random with Bowtie
	[Fri Mar 19 04:02:41 2010] Mapping reads against chrY_random with Bowtie
	[Fri Mar 19 04:02:42 2010] Searching for junctions via segment mapping
	[Fri Mar 19 04:02:49 2010] Retrieving sequences for splices
	[Fri Mar 19 04:02:53 2010] Indexing splices
	[Fri Mar 19 04:02:55 2010] Mapping reads against segment_juncs with Bowtie
	[Fri Mar 19 04:02:55 2010] Mapping reads against segment_juncs with Bowtie
	[Fri Mar 19 04:02:56 2010] Joining segment hits
	[Fri Mar 19 04:02:59 2010] Reporting output tracks
	-----------------------------------------------
	Run complete [00:00:30 elapsed]
	
	real    0m30.970s
	user    0m22.023s
	sys     0m3.429s


OUTPUT FILES:

[syoung@u01 chrY_random]$ ll -tr

	total 148K
	drwxr-xr-x 4 syoung bioinfo 2.0K Mar 19 04:01 ..
	drwxr-xr-x 2 syoung bioinfo 2.0K Mar 19 04:02 logs
	-rw-r--r-- 1 syoung bioinfo   52 Mar 19 04:02 junctions.bed
	-rw-r--r-- 1 syoung bioinfo  85K Mar 19 04:02 accepted_hits.sam
	-rw-r--r-- 1 syoung bioinfo  31K Mar 19 04:03 coverage.wig



cd /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/chrY_random

time /nethome/bioinfo/apps/CUFFLINKS/0.7.0/bin/cufflinks \
--inner-dist-mean 200 \
--label bixln \
--num-threads 4 \
--GTF /nethome/bioinfo/data/sequence/chromosomes/mouse/mm9/cufflinks/mm9-knownGene.gtf \
/nethome/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/chrY_random/accepted_hits.sam


REPORTS EXPRESSION VALUE FOR GENE uc009vgv.1:

head transcripts.*
==> transcripts.expr <==
trans_id        bundle_id       chr     left    right   total_score     avg_read_score  RPKM    FMI     frac    conf_low    conf_hi coverage
uc009vgv.1      821     chrY_random     25802442        25802823        0.000000        0.000000        236035  1  10       0       1.08661 381

==> transcripts.gtf <==
chrY_random     Cufflinks       transcript      25802443        25802823        1000    +       .       gene_id "uc009vgv.1"; transcript_id "uc009vgv.1"; RPKM "236034.6300197024"; frac "1.000000"; conf_lo "0.000000"; conf_hi "0.000000"; cov "1.086614";
chrY_random     Cufflinks       exon    25802443        25802823        1000    +       .       gene_id "uc009vgv.1"; transcript_id "uc009vgv.1"; exon_number "1"; RPKM "236034.6300197024"; frac "1.000000"; conf_lo "0.000000"; conf_hi "0.000000"; cov "1.086614";




NOTHING IN JUNCTIONS FILE:

head junctions.bed 
    track name=junctions description="TopHat junctions"


GENE uc009vgv.1 CAN BE VIEWED HERE:

http://genome.ucsc.edu/cgi-bin/hgGene?db=mm9&hgg_gene=uc009vgv.1&hgg_chrom=chrY_random&hgg_start=25802442&hgg_end=25802823





OUTPUT FILES:

[syoung@u01 chrY_random]$ ll -tr

	drwxr-xr-x 4 syoung bioinfo 2.0K Mar 19 04:01 ..
	drwxr-xr-x 2 syoung bioinfo 2.0K Mar 19 04:02 logs
	-rw-r--r-- 1 syoung bioinfo   52 Mar 19 04:02 junctions.bed
	-rw-r--r-- 1 syoung bioinfo  85K Mar 19 04:02 accepted_hits.sam
	-rw-r--r-- 1 syoung bioinfo  31K Mar 19 04:03 coverage.wig
	drwxrwxrwx 3 syoung bioinfo 2.0K Mar 19 04:45 .
	-rw-r--r-- 1 syoung bioinfo  191 Mar 19 04:50 transcripts.expr
	-rw-r--r-- 1 syoung bioinfo  114 Mar 19 04:50 genes.expr
	-rw-r--r-- 1 syoung bioinfo  429 Mar 19 04:50 transcripts.gtf



OUTPUT FILES FOR ALL CHROMOSOMES FOR TEST RUN:

ll /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat-multi/*/transcripts.gtf

    -rw-rw-rw- 1 syoung bioinfo 459K Mar 19 05:29 chr10/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 761K Mar 19 05:30 chr11/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 282K Mar 19 05:29 chr12/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 4.7K Mar 19 05:30 chr13_random/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 226K Mar 19 05:30 chr13/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 231K Mar 19 05:30 chr14/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 409K Mar 19 05:29 chr15/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo    0 Mar 19 05:29 chr16_random/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 239K Mar 19 05:29 chr16/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo    0 Mar 19 05:29 chr17_random/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 393K Mar 19 05:29 chr17/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 212K Mar 19 05:29 chr18/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 221K Mar 19 05:29 chr19/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 6.3K Mar 19 05:30 chr1_random/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 494K Mar 19 05:30 chr1/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 690K Mar 19 05:30 chr2/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo    0 Mar 19 05:29 chr3_random/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo    0 Mar 19 05:29 chr4_random/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 467K Mar 19 05:30 chr4/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo    0 Mar 19 05:29 chr5_random/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 599K Mar 19 05:30 chr5/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 349K Mar 19 05:30 chr6/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo    0 Mar 19 05:29 chr7_random/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 565K Mar 19 05:30 chr7/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo    0 Mar 19 05:29 chr8_random/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 424K Mar 19 05:30 chr8/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo  415 Mar 19 05:29 chr9_random/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 461K Mar 19 05:29 chr9/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 2.8K Mar 19 05:29 chrM/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 3.0K Mar 19 05:29 chrUn_random/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo    0 Mar 19 05:29 chrX_random/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo 233K Mar 19 05:30 chrX/transcripts.gtf
    -rw-r--r-- 1 syoung bioinfo  429 Mar 19 05:35 chrY_random/transcripts.gtf
    -rw-rw-rw- 1 syoung bioinfo    0 Mar 19 05:29 chrY/transcripts.gtf








</entry>



<entry [Mon Mar 15 16:49:32 EDT 2010] RUN TOPHAT AND CUFFLINKS ON ALL BIXBY SAMPLES>




Lane 	Sample       	Conc.
1	CGN LN 7.31.09 	8 pM
2	CGN LN 7.31.09 	8 pM
3	CGN LN 9.3.09 	8 pM
4	CGN LN 9.3.09 	8 pM
5   CGN CSPG 9.3.09     8 pM
6	CGN CSPG 7.31.09 	8 pM
7	CGN CSPG 7.31.09 	8 pM
8	CGN CSPG 9.3.09 	8 pM



LN
==

TOPHAT

    Resources Used: cput=27:35:31,mem=3258104kb,vmem=3578764kb,walltime=15:22:11

    Output directory

        kronos:/nethome/syoung/base/pipeline/bixby/run1/ln/tophat
    
    Output files

        -rw-r--r-- 1 syoung bioinfo  16G Mar 16 19:42 accepted_hits.sam
        -rw-r--r-- 1 syoung bioinfo  13M Mar 16 13:31 junctions.bed


WIGGLE

    Resources Used: cput=00:05:27,mem=774732kb,vmem=1650376kb,walltime=00:08:57

    Output directory

    kronos:/nethome/syoung/base/pipeline/bixby/run1/ln/tophat

        -rw-r--r-- 1 syoung bioinfo 1.2G Mar 17 13:32 coverage.wig


CUFFLINKS

    Resources Used: cput=51:48:24,mem=9282848kb,vmem=11465460kb,walltime=08:27:28

    Output directory

        kronos:/nethome/syoung/base/pipeline/bixby/run1/ln/cufflinks    

    Output files
    
        CUFFLINKS RUN FAILED, SEE STANDARD OUT FILE:

        -rw-r--r-- 1 syoung bioinfo 88M Mar 18 18:30 cufflinks.out

        ...    
        Processing bundle [ chrY:2901424-2901651 ] with 13 non-redundant alignments
        Processing bundle [ chrY:2901713-2902040 ] with 7 non-redundant alignments
        Processing bundle [ chrY:2902166-2902361 ] with 6 non-redundant alignments
        Processing bundle [ chrY:2902424-2902552 ] with 17 non-redundant alignments
        Warning: ITERMAX reached in abundance estimation, estimation hasn't fully converged

        
        SO ADDED 'BATCH-BY-CHROMOSOME' WHEN USING referencedir OPTION TO TOPHAT.pl


CSPG
====



TOPHAT


WIGGLE


CUFFLINKS




1. LN SAMPLE
============

screen -S tph-bix-ln
mkdir -p /nethome/syoung/base/pipeline/bixby/run1/ln/tophat/
cd /nethome/syoung/base/pipeline/bixby/run1/ln/tophat/

### THIS SCRIPT CREATES A SCRIPT FILE LIKE THE FOLLOWING:
###perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
###--inputfiles "/nethome/syoung/base/pipeline/bixby/run1/data/s_1_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_2_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_3_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_4_sequence.txt" \
###--params "--mate-inner-dist 200 --solexa1.3-quals" \
###--distance 200 \
###--queue "-q psmall" \
###--reference /nethome/syoung/base/apps/bowtie/indexes/mm9 \
###--outputdir /nethome/syoung/base/pipeline/bixby/run1/ln/tophat/ \
###--label tph-bix-run1/ \
###--keep \
###--cpus 4



rm -fr tophat.sh
emacs tophat.sh

#!/bin/sh

#PBS -N tph-bix-ln
#PBS -l ncpus=4
#PBS -j oe
#PBS -M syoung@med.miami.edu
#PBS -m abe

export PATH=/nethome/bioinfo/apps/BOWTIE/0.12.2:$PATH

cd /nethome/syoung/base/pipeline/bixby/run1/ln/tophat/

time /nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat \
--num-threads 4 \
--mate-inner-dist 200 --solexa1.3-quals \
--output-dir /nethome/syoung/base/pipeline/bixby/run1/ln/tophat/ \
--mate-inner-dist 200 \
/nethome/syoung/base/apps/bowtie/indexes/mm9 \
/nethome/syoung/base/pipeline/bixby/run1/data/s_1_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_2_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_3_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_4_sequence.txt

exit;
#### END



chmod 755 tophat.sh
msub -q psmall tophat.sh

    
    243081
    [syoung@u01 run1/ln/tophat]$ qstat
    Job id                    Name             User            Time Use S Queue
    ------------------------- ---------------- --------------- -------- - -----
    243081.kronos             tph-bix-ln       syoung                 0 R psmall  


Tue Mar 16 04:20:17 EDT 2010

OUTPUT FILES:

ll /nethome/syoung/base/pipeline/bixby/run1/ln/tophat/

    drwxr-xr-x 5 syoung bioinfo  16K Mar 17  2010 .
    drwxr-xr-x 7 syoung bioinfo  16K Mar 17  2010 ..
    -rw-r--r-- 1 syoung bioinfo  16G Mar 16 19:42 accepted_hits.sam
    drwxr-xr-x 3 syoung bioinfo  16K Mar 15 22:57 bixby
    -rw-r--r-- 1 syoung bioinfo  13M Mar 16 13:31 junctions.bed
    -rw------- 1 syoung bioinfo  447 Mar 15 22:58 l1-casAuto.o243076
    -rw-r--r-- 1 syoung bioinfo  12G Mar 16 05:11 left_kept_reads.fq
    -rw-r--r-- 1 syoung bioinfo  19G Mar 16 12:50 left_kept_reads.fq.candidate_hits.sam
    drwxr-xr-x 2 syoung bioinfo  16K Mar 17  2010 logs
    -rw-r--r-- 1 syoung bioinfo 2.6G Mar 16 04:41 mm9.fa
    drwxr-xr-x 2 syoung bioinfo  16K Mar 17  2010 tmp
    -rw-r--r-- 1 syoung bioinfo  730 Mar 16 04:19 tophat.sh
    -rw------- 1 syoung bioinfo  507 Mar 15 22:59 tph-bix-ln.o243077
    -rw------- 1 syoung bioinfo 3.3K Mar 15 23:01 tph-bix-ln.o243078
    -rw------- 1 syoung bioinfo 2.1K Mar 16 19:42 tph-bix-ln.o243081



TAIL STDOUT:

NB: ERROR IS HARMLESS, SEE FIX BELOW

tail -n 30 /nethome/syoung/base/pipeline/bixby/run1/ln/tophat/tph-bix-ln.o243081


    [Tue Mar 16 11:58:59 2010] Joining segment hits
    [Tue Mar 16 12:50:50 2010] Reporting output tracks
            [FAILED]
    Error: tophat_reports not found on this system
    Traceback (most recent call last):
      File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 1518, in ?
        sys.exit(main())
      File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 1490, in main
        params.gff_annotation)
      File "/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat", line 963, in compile_reports
        exit(1)
    TypeError: 'str' object is not callable
    
    real    922m10.710s
    user    1613m17.660s
    sys     52m50.692s
    Epilogue Args:
    Job ID: 243081.kronos.ccs.miami.edu
    User ID: syoung
    Group ID: bioinfo
    Job Name: tph-bix-ln
    Session ID: 31955
    Resource List: ncpus=4
    Resources Used: cput=27:35:31,mem=3258104kb,vmem=3578764kb,walltime=15:22:11
    Queue Name: psmall
    Account String: 



CREATE MISSING WIGGLE FILE:

/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/wiggles 

    Usage:   wiggles <accepted_hits.sam> <coverage.wig>



cd /nethome/syoung/base/pipeline/bixby/run1/ln/tophat
rm -fr wiggles.sh
emacs wiggles.sh
#!/bin/sh

#PBS -N tph-bix-ln
#PBS -l ncpus=4
#PBS -j oe
#PBS -M syoung@med.miami.edu
#PBS -m abe

export PATH=/nethome/bioinfo/apps/BOWTIE/0.12.2:$PATH
cd /nethome/syoung/base/pipeline/bixby/run1/ln/tophat/
time /nethome/bioinfo/apps/TOPHAT/0.1.12/bin/wiggles \
/nethome/syoung/base/pipeline/bixby/run1/ln/tophat/accepted_hits.sam \
/nethome/syoung/base/pipeline/bixby/run1/ln/tophat/coverage.wig

exit;
#### END


chmod 755 wiggles.sh
msub -q psmall wiggles.sh

    Job id                    Name             User            Time Use S Queue
    ------------------------- ---------------- --------------- -------- - -----
    243643.kronos             tph-bix-ln       syoung                 0 R psmall         
    Wed Mar 17 13:24:04 EDT 2010





mkdir -p /nethome/syoung/base/pipeline/bixby/run1/ln/cufflinks
ln -s /nethome/syoung/base/pipeline/bixby/run1/ln/tophat/accepted_hits.sam \
/nethome/syoung/base/pipeline/bixby/run1/ln/cufflinks/accepted_hits.sam

cd /nethome/syoung/base/pipeline/bixby/run1/ln/cufflinks

rm -fr cufflinks.sh
emacs cufflinks.sh
#!/bin/sh

#PBS -N cuf-bix-ln
#PBS -l ncpus=8
#PBS -j oe
#PBS -M syoung@med.miami.edu
#PBS -m abe

time /nethome/syoung/base/apps/cufflinks/0.7.0/bin/cufflinks \
--inner-dist-mean 200 \
--label bixbyln \
--num-threads 8 \
/nethome/syoung/base/pipeline/bixby/run1/ln/cufflinks/accepted_hits.sam \
&> /nethome/syoung/base/pipeline/bixby/run1/ln/cufflinks/cufflinks.out

exit;
#### END




chmod 755 cufflinks.sh
msub -q psmall cufflinks.sh


RUNNING
JOB ID 243699

    Job id                    Name             User            Time Use S Queue
    ------------------------- ---------------- --------------- -------- - -----
    243685.kronos             tph-bix-cspg     syoung          21:20:11 R psmall         
    243695.kronos             cuf-bix-ln       syoung          00:00:00 C psmall         
    243698.kronos             cuf-bix-ln       syoung          00:00:29 C psmall         
    243699.kronos             cuf-bix-ln       syoung                 0 R psmall         
    Thu Mar 18 10:04:56 EDT 2010



[syoung@kronos run1]$ cd ln/cufflinks/
[syoung@kronos cufflinks]$ ll

    lrwxrwxrwx 1 syoung bioinfo  68 Mar 18 10:03 accepted_hits.sam -> /nethome/syoung/base/pipeline/bixby/run1/ln/tophat/accepted_hits.sam
    -rw------- 1 syoung bioinfo 280 Mar 17 16:56 cuf-bix-ln.o243658
    -rw------- 1 syoung bioinfo 407 Mar 18 10:02 cuf-bix-ln.o243695
    -rw------- 1 syoung bioinfo 277 Mar 18 10:04 cuf-bix-ln.o243698
    -rw------- 1 syoung bioinfo 311 Mar 18 18:32 cuf-bix-ln.o243699
    -rw-r--r-- 1 syoung bioinfo 88M Mar 18 18:30 cufflinks.out
    -rwxr-xr-x 1 syoung bioinfo 380 Mar 18 10:04 cufflinks.sh



CUFFLINKS TOOK 8 HOURS 27 MINS:

tail /nethome/syoung/base/pipeline/bixby/run1/ln/cufflinks/cuf-bix-ln.o243699

    Job ID: 243699.kronos.ccs.miami.edu
    User ID: syoung
    Group ID: bioinfo
    Job Name: cuf-bix-ln
    Session ID: 8354
    Resource List: ncpus=8
    Resources Used: cput=51:48:24,mem=9282848kb,vmem=11465460kb,walltime=08:27:28
    Queue Name: psmall
    Account String: 

 
    
    [syoung@kronos cufflinks]$ tail cufflinks.out
    Processing bundle [ chrY:2899722-2899774 ] with 1 non-redundant alignments
    Processing bundle [ chrY:2899896-2899948 ] with 1 non-redundant alignments
    Processing bundle [ chrY:2900060-2900430 ] with 13 non-redundant alignments
    Processing bundle [ chrY:2900496-2901053 ] with 35 non-redundant alignments
    Processing bundle [ chrY:2901181-2901244 ] with 2 non-redundant alignments
    Processing bundle [ chrY:2901424-2901651 ] with 13 non-redundant alignments
    Processing bundle [ chrY:2901713-2902040 ] with 7 non-redundant alignments
    Processing bundle [ chrY:2902166-2902361 ] with 6 non-redundant alignments
    Processing bundle [ chrY:2902424-2902552 ] with 17 non-redundant alignments
    Warning: ITERMAX reached in abundance estimation, estimation hasn't fully converged
    [syoung@kronos cufflinks]$ head cufflinks.out
    Counting hits in map
            Total map density: 3947123537.672494
    Processing bundle [ chr1:3016972-3017024 ] with 1 non-redundant alignments
    Processing bundle [ chr1:3018386-3018438 ] with 1 non-redundant alignments
    Processing bundle [ chr1:3018857-3018909 ] with 1 non-redundant alignments
    Processing bundle [ chr1:3034326-3034378 ] with 1 non-redundant alignments
    Processing bundle [ chr1:3034528-3034580 ] with 1 non-redundant alignments
    Processing bundle [ chr1:3035094-3035146 ] with 1 non-redundant alignments
    Processing bundle [ chr1:3035528-3035580 ] with 1 non-redundant alignments
    Processing bundle [ chr1:3036868-3036920 ] with 1 non-redundant alignments
    [syoung@kronos cufflinks]$ lines cufflinks.out
    cufflinks.out: 1171730
    [syoung@kronos cufflinks]$ 



real    507m28.014s
user    3095m17.162s
sys     13m7.109s
Epilogue Args:
Job ID: 243699.kronos.ccs.miami.edu
User ID: syoung
Group ID: bioinfo
Job Name: cuf-bix-ln
Session ID: 8354
Resource List: ncpus=8
Resources Used: cput=51:48:24,mem=9282848kb,vmem=11465460kb,walltime=08:27:28
Queue Name: psmall
Account String:




2. CSPG SAMPLE
==============

screen -S th-cf-cspg-bix
mkdir -p /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/
cd /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/

rm -fr tophat-cufflinks.sh
emacs tophat-cufflinks.sh

#!/bin/sh

#PBS -N tph-bix-cspg
#PBS -l ncpus=4
#PBS -j oe
#PBS -M syoung@med.miami.edu
#PBS -m abe

export PATH=/nethome/bioinfo/apps/BOWTIE/0.12.2:$PATH
export PATH=/nethome/bioinfo/apps/TOPHAT/0.1.12/bin:$PATH
export PATH=/nethome/syoung/base/pipeline/bixby/run1/cspg/tophat:$PATH

cd /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/

time /nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat \
--num-threads 4 \
--mate-inner-dist 200 \
--solexa1.3-quals \
--output-dir /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/ \
--mate-inner-dist 200 \
/nethome/syoung/base/apps/bowtie/indexes/mm9 \
/nethome/syoung/base/pipeline/bixby/run1/data/s_5_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_6_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_7_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_8_sequence.txt \
&> /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/tophat.out

time /nethome/syoung/base/apps/cufflinks/0.7.0/bin/cufflinks \
--inner-dist-mean 200 \
--label cspg \
--num-threads 4 \
/nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/accepted_hits.sam \
&> /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/cufflinks.out

exit;
#### END

chmod 755 tophat-cufflinks.sh
msub -q psmall tophat-cufflinks.sh
    
Thu Mar 18 09:50:49 EDT 2010

    Job id                    Name             User            Time Use S Queue
    ------------------------- ---------------- --------------- -------- - -----
    243685.kronos             tph-bix-cspg     syoung          20:48:37 R psmall  

cat /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/tophat.out 
    
    [Thu Mar 18 01:25:18 2010] Beginning TopHat run (v1.0.12)
    -----------------------------------------------
    [Thu Mar 18 01:25:18 2010] Preparing output location /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat//
    [Thu Mar 18 01:25:18 2010] Checking for Bowtie index files
    [Thu Mar 18 01:25:18 2010] Checking for reference FASTA file
    [Thu Mar 18 01:25:18 2010] Checking for Bowtie
            Bowtie version:          0.12.2.0
    [Thu Mar 18 01:25:18 2010] Checking reads
            seed length:     52bp
            format:          fastq
            quality scale:   --solexa1.3-quals
    [Thu Mar 18 01:55:11 2010] Mapping reads against mm9 with Bowtie
    [Thu Mar 18 03:58:00 2010] Joining segment hits
            Splitting reads into 2 segments
    [Thu Mar 18 04:20:43 2010] Mapping reads against mm9 with Bowtie
    [Thu Mar 18 05:15:46 2010] Mapping reads against mm9 with Bowtie
    [Thu Mar 18 06:08:31 2010] Searching for junctions via segment mapping
    [Thu Mar 18 07:39:19 2010] Retrieving sequences for splices
    [Thu Mar 18 07:44:59 2010] Indexing splices
    [Thu Mar 18 08:44:16 2010] Mapping reads against segment_juncs with Bowtie
    

WRITING FILE left_kept_reads_seg1_to_spliced.bwtout:

ll -tr /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat

    -rw-r--r-- 1 syoung bioinfo   253 Mar 16 14:43 fileI1AXCq.log
    -rw-r--r-- 1 syoung bioinfo   251 Mar 16 15:57 file2Sbx4C.log
    -rw-r--r-- 1 syoung bioinfo   250 Mar 16 16:47 filet2yuqu.log
    -rw-r--r-- 1 syoung bioinfo   248 Mar 16 18:48 file2PuX5A.log
    -rw-r--r-- 1 syoung bioinfo   248 Mar 16 19:36 filecSHrJn.log
    -rw-r--r-- 1 syoung bioinfo  1.2G Mar 16 19:36 left_kept_reads_seg2_to_spliced.bwtout
    -rw-r--r-- 1 syoung bioinfo  2.1G Mar 18 03:57 left_kept_reads_missing.fq
    -rw-r--r-- 1 syoung bioinfo   254 Mar 18 03:57 fileGfhFT3.log
    -rw-r--r-- 1 syoung bioinfo   15G Mar 18 03:58 left_kept_reads.bwtout
    -rw-r--r-- 1 syoung bioinfo   16G Mar 18 04:17 file8JPVCR
    -rw-r--r-- 1 syoung bioinfo  941M Mar 18 04:20 left_kept_reads_seg1.fq
    -rw-r--r-- 1 syoung bioinfo  955M Mar 18 04:20 left_kept_reads_seg2.fq
    -rw-r--r-- 1 syoung bioinfo  248M Mar 18 05:15 left_kept_reads_seg1_missing.fq
    -rw-r--r-- 1 syoung bioinfo   251 Mar 18 05:15 filehxkkMw.log
    -rw-r--r-- 1 syoung bioinfo  1.7G Mar 18 05:15 left_kept_reads_seg1.bwtout
    -rw-r--r-- 1 syoung bioinfo  464M Mar 18 06:08 left_kept_reads_seg2_missing.fq
    -rw-r--r-- 1 syoung bioinfo   250 Mar 18 06:08 filenxq5Bx.log
    -rw-r--r-- 1 syoung bioinfo  1.2G Mar 18 06:08 left_kept_reads_seg2.bwtout
    -rw-r--r-- 1 syoung bioinfo  323M Mar 18 07:39 segment.juncs
    -rw-r--r-- 1 syoung bioinfo  1.2G Mar 18 07:44 segment_juncs.fa
    -rw-r--r-- 1 syoung bioinfo  138M Mar 18 07:45 segment_juncs.4.ebwt
    -rw-r--r-- 1 syoung bioinfo  113M Mar 18 07:45 segment_juncs.3.ebwt
    drwxr-xr-x 4 syoung bioinfo   16K Mar 18 08:10 ..
    -rw-r--r-- 1 syoung bioinfo   69M Mar 18 08:13 segment_juncs.2.ebwt
    -rw-r--r-- 1 syoung bioinfo 1000M Mar 18 08:14 segment_juncs.1.ebwt
    -rw-r--r-- 1 syoung bioinfo   69M Mar 18 08:43 segment_juncs.rev.2.ebwt
    -rw-r--r-- 1 syoung bioinfo 1000M Mar 18 08:44 segment_juncs.rev.1.ebwt
    -rw-r--r-- 1 syoung bioinfo     0 Mar 18 08:44 filewJf4ia.log
    drwxr-xr-x 2 syoung bioinfo   16K Mar 18 08:44 .
    -rw-r--r-- 1 syoung bioinfo  1.1G Mar 18 09:54 left_kept_reads_seg1_to_spliced.bwtout



TOPHAT COMPLETED IN 18 HOURS AND 20 MINS:

tail -f /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/tophat.out

    Thu Mar 18 05:15:46 2010] Mapping reads against mm9 with Bowtie
    [Thu Mar 18 06:08:31 2010] Searching for junctions via segment mapping
    [Thu Mar 18 07:39:19 2010] Retrieving sequences for splices
    [Thu Mar 18 07:44:59 2010] Indexing splices
    [Thu Mar 18 08:44:16 2010] Mapping reads against segment_juncs with Bowtie
    [Thu Mar 18 09:56:09 2010] Mapping reads against segment_juncs with Bowtie
    [Thu Mar 18 11:19:59 2010] Joining segment hits
    [Thu Mar 18 12:18:25 2010] Reporting output tracks
    -----------------------------------------------
    Run complete [18:21:20 elapsed]



CUFFLINKS STILL RUNNING:

tail -f /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/cufflinks.out

    Processing bundle [ chr17:69747724-69748017 ] with 13 non-redundant alignments
    Processing bundle [ chr17:69748156-69748208 ] with 1 non-redundant alignments
    Processing bundle [ chr17:69748430-69748544 ] with 3 non-redundant alignments
    Processing bundle [ chr17:69748697-69748749 ] with 1 non-redundant alignments
    Processing bundle [ chr17:69748800-69748852 ] with 1 non-redundant alignments
    Processing bundle [ chr17:69749079-69749131 ] with 1 non-redundant alignments
    Processing bundle [ chr17:69749702-69749754 ] with 1 non-redundant alignments
    Processing bundle [ chr17:69749867-69749919 ] with 1 non-redundant alignments
    Processing bundle [ chr17:69750144-69750543 ] with 13 non-redundant alignments
    Processing bundle [ chr17:69750695-69750747 ] with 1 non-redundant alignments
    Processing bundle [ chr17:69750830-69751375 ] with 32 non-redundant alignments
    Processing bundle [ chr17:69751588-69751640 ] with 1 non-redundant alignments
    Processing bundle [ chr17:69752207-69752325 ] with 3 non-redundant alignments
    






###
###screen -S tph-bix-cspg
###mkdir -p /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/
###cd /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/
###
###### THIS SCRIPT CREATES A SCRIPT FILE LIKE THE FOLLOWING:
######perl /nethome/bioinfo/apps/agua/0.4/bin/apps/TOPHAT.pl \
######--inputfiles "/nethome/syoung/base/pipeline/bixby/run1/data/s_1_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_2_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_3_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_4_sequence.txt" \
######--params "--mate-inner-dist 200 --solexa1.3-quals" \
######--distance 200 \
######--queue "-q psmall" \
######--reference /nethome/syoung/base/apps/bowtie/indexes/mm9 \
######--outputdir /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/ \
######--label tph-bix-run1/ \
######--keep \
######--cpus 4
###
###
###
###
###rm -fr tophat.sh
###emacs tophat.sh
###
####!/bin/sh
###
####PBS -N tph-bix-cspg
####PBS -l ncpus=4
####PBS -j oe
####PBS -M syoung@med.miami.edu
####PBS -m abe
###
###export PATH=/nethome/bioinfo/apps/BOWTIE/0.12.2:$PATH
###export PATH=/nethome/bioinfo/apps/TOPHAT/0.1.12/bin:$PATH
###export PATH=/nethome/syoung/base/pipeline/bixby/run1/cspg/tophat:$PATH
###
###cd /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/
###
###time /nethome/bioinfo/apps/TOPHAT/0.1.12/bin/tophat \
###--num-threads 4 \
###--mate-inner-dist 200 --solexa1.3-quals \
###--output-dir /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/ \
###--mate-inner-dist 200 \
###/nethome/syoung/base/apps/bowtie/indexes/mm9 \
###/nethome/syoung/base/pipeline/bixby/run1/data/s_1_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_2_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_3_sequence.txt,/nethome/syoung/base/pipeline/bixby/run1/data/s_4_sequence.txt
###
###exit;
####### END
###
###chmod 755 tophat.sh
###
###msub -q psmall tophat.sh
###    
###RUNNING
###JOB ID 243683
###    
###    Job id                    Name             User            Time Use S Queue
###    ------------------------- ---------------- --------------- -------- - -----
###    243660.kronos             cuf-bix-cspg     syoung          36:11:01 R psmall         
###    243683.kronos             tph-bix-cspg     syoung                 0 R psmall 
###
###
###
###OUTPUT FILES:
###
###ll /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/
###
###    -rw-r--r-- 1 syoung bioinfo  16G Mar 17 03:03 accepted_hits.sam
###    -rw-r--r-- 1 syoung bioinfo  13M Mar 16 21:03 junctions.bed
###    -rw-r--r-- 1 syoung bioinfo  12G Mar 16 12:40 left_kept_reads.fq
###    -rw-r--r-- 1 syoung bioinfo  19G Mar 16 20:23 left_kept_reads.fq.candidate_hits.sam
###    drwxr-xr-x 2 syoung bioinfo  16K Mar 16 20:23 logs
###    -rw-r--r-- 1 syoung bioinfo 2.6G Mar 16 12:04 mm9.fa
###    drwxr-xr-x 2 syoung bioinfo  16K Mar 17 03:03 tmp
###    -rwxr-xr-x 1 syoung bioinfo  716 Mar 16 11:41 tophat.sh
###    -rw------- 1 syoung bioinfo 2.1K Mar 17 03:03 tph-bix-cspg.o243120


TROUBLESHOOTING

FIX ERROR 'tophat_reports not found on this system'
===================================================

ERROR:

WIGGLE FILE MISSING AND THIS STDOUT:

    [Tue Mar 16 12:50:50 2010] Reporting output tracks
            [FAILED]
    Error: tophat_reports not found on this system
    Traceback (most recent call last):

should be missing is the coverage wigglegram, which you can manually generate with the "wiggles" binary included in the distribution. The bug will be fixed in the next release
        

SOLUTION

1. ADD TOP HAT BINARIES AND MAIN SCRIPT TO PATH ENVIRONMENT VARIABLE

2. GENERATE COVERAGE WIGGLEGRAM USING wiggles BINARY
        

CREATE MISSING WIGGLE FILE:

/nethome/bioinfo/apps/TOPHAT/0.1.12/bin/wiggles 

    Usage:   wiggles <accepted_hits.sam> <coverage.wig>

cd /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat
rm -fr wiggles.sh
emacs wiggles.sh
#!/bin/sh

#PBS -N wig-bix-cspg
#PBS -l ncpus=4
#PBS -j oe
#PBS -M syoung@med.miami.edu
#PBS -m abe

export PATH=/nethome/bioinfo/apps/BOWTIE/0.12.2:$PATH
cd /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/
time /nethome/bioinfo/apps/TOPHAT/0.1.12/bin/wiggles \
/nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/accepted_hits.sam \
/nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/coverage.wig

exit;
#### END


chmod 755 wiggles.sh
msub -q psmall wiggles.sh
    
    Job id                    Name             User            Time Use S Queue
    ------------------------- ---------------- --------------- -------- - -----
    243643.kronos             tph-bix-ln       syoung          00:00:19 R psmall         
    243644.kronos             wig-bix-cspg     syoung                 0 R psmall  




emacs /nethome/syoung/base/pipeline/bixby/run1/cspg/tophat/wig-bix-cspg.o243644

    wiggles v1.0.12
    ---------------------------------------
    
    real    7m32.397s
    user    5m14.105s
    sys     0m9.194s
    Epilogue Args:
    Job ID: 243644.kronos.ccs.miami.edu
    User ID: syoung
    Group ID: bioinfo
    Job Name: wig-bix-cspg
    Session ID: 10410
    Resource List: ncpus=4
    Resources Used: cput=00:05:23,mem=774728kb,vmem=1650400kb,walltime=00:07:33
    Queue Name: psmall
    Account String:




FROM SEQANSWERS
http://seqanswers.com/forums/showthread.php?t=2504

    11-11-2009, 12:40 PM	   #12
    Cole Trapnell
    Senior Member
     
    Join Date: Nov 2008
    Location: Berkeley, CA
    Posts: 117
    
        ...
        [Wed Nov 11 22:34:39 2009] Mapping reads against segment_juncs with Bowtie
        [Wed Nov 11 22:34:39 2009] Joining segment hits
        [Wed Nov 11 22:34:39 2009] Reporting output tracks
        [FAILED]
        Error: Report generation failed with err = 1

    The warnings should be safely ignorable.
    
    Several users have reported the failed run to me, and its resolvable by adding the tophat binaries and main script to the PATH environment variable. It also appears that in this failed run, the only thing that you should be missing is the coverage wigglegram, which you can manually generate with the "wiggles" binary included in the distribution. The bug will be fixed in the next release
        







    TopHat maps short sequences from spliced transcripts to whole genomes.
    
    Usage:
        tophat [options] <bowtie_index> <reads1[,reads2,...,readsN]> [reads1[,reads2,...,readsN]]
        
    Options:
        -o/--output-dir                <string>    [ default: ./tophat_out ]
        -a/--min-anchor                <int>       [ default: 8            ]
        -m/--splice-mismatches         <0-2>       [ default: 0            ]
        -i/--min-intron                <int>       [ default: 50           ]
        -I/--max-intron                <int>       [ default: 500000       ]
        -g/--max-multihits             <int>       [ default: 40           ]
        -F/--min-isoform-fraction      <float>     [ default: 0.15         ]
        --solexa-quals                          
        --solexa1.3-quals
        -p/--num-threads               <int>       [ default: 1            ]
        -G/--GFF                       <filename>
        -j/--raw-juncs                 <filename>
        -r/--mate-inner-dist           <int>       
        --mate-std-dev                 <int>       [ default: 20           ]
        --no-novel-juncs                           
        --no-gff-juncs                             
        --no-coverage-search
        --coverage-search                                              
        --no-closure-search
        --closure-search
        --fill-gaps        
        --microexon-search
        --butterfly-search
        --no-butterfly-search
        --keep-tmp
        
    Advanced Options:
    
        --segment-mismatches           <int>       [ default: 2            ]
        --segment-length               <int>       [ default: 25           ]
        --min-closure-exon             <int>       [ default: 100          ]
        --min-closure-intron           <int>       [ default: 50           ]
        --max-closure-intron           <int>       [ default: 5000         ]
        --min-coverage-intron          <int>       [ default: 50           ]
        --max-coverage-intron          <int>       [ default: 20000        ]
        --min-segment-intron           <int>       [ default: 50           ]
        --max-segment-intron           <int>       [ default: 500000       ]    

    TopHat Output

    The tophat script produces a number of files in the directory in which it was invoked. Most of these files are internal, intermediate files that are generated for use within the pipeline. The output files you will likely want to look at are:
    
    accepted_hits.sam
    A list of read alignments in SAM format. SAM is a compact short read alignment format that is increasingly being adopted. The formal specification is here.
    
    coverage.wig
    A UCSC BedGraph wigglegram track, showing the depth of coverage at each position, including the spliced read alignments.
    
    junctions.bed
    A UCSC BED track of junctions reported by TopHat. Each junction consists of two connected BED blocks, where each block is as long as the maximal overhang of any read spanning the junction. The score is the number of alignments spanning the junction.





</entry>



<entry [Mon Mar 15 16:49:32 EDT 2010] FINAL LANE FOR BIXBY SAMPLES>




DATA STORED IN TWO LOCATIONS:


SEQUENCE FILES ONLY
ll /nethome/bioinfo/data/sequence/labs/bixby/run1 

    -rw-r--r--  1 syoung bioinfo 3.9M Feb 25 14:22 s_1_sequence-100K.txt
    -rw-r--r--  1 syoung bioinfo 3.1G Feb 25 14:26 s_1_sequence.txt
    -rw-r--r--  1 syoung bioinfo 3.4G Feb 25 14:29 s_2_sequence.txt
    -rw-r--r--  1 syoung bioinfo 3.5G Feb 25 14:33 s_3_sequence.txt
    -rw-r--r--  1 syoung bioinfo 3.5G Feb 25 14:38 s_4_sequence.txt
    -rw-r--r--  1 syoung bioinfo 3.5G Feb 25 14:42 s_5_sequence.txt   <= LANE 6 RUN 100121_HWUSI-EAS1687R_0003_616GJAAXX
    -rw-r--r--  1 syoung bioinfo 3.5G Feb 25 14:42 s_6_sequence.txt
    -rw-r--r--  1 syoung bioinfo 3.4G Feb 25 14:46 s_7_sequence.txt
    -rw-r--r--  1 syoung bioinfo 3.2G Feb 25 14:49 s_8_sequence.txt


SEQUENCE AND ALIGNMENT FILES
ll /nethome/syoung/base/pipeline/bixby/run1 

    -rw-r----- 1 syoung bioinfo 2.9G Jan 15 15:14 s_1_eland_extended.txt
    -rw-r----- 1 syoung bioinfo 2.8G Jan 15 15:29 s_1_eland_multi.txt
    -rw-r----- 1 syoung bioinfo 4.2G Jan 15 15:44 s_1_export.txt
    -rw-r--r-- 1 syoung bioinfo 3.9M Mar 15 17:16 s_1_sequence-100K.txt
    -rw-r----- 1 syoung bioinfo 3.1G Mar 15 17:17 s_1_sequence.txt
    -rw-r----- 1 syoung bioinfo 3.1G Jan 15 15:16 s_2_eland_extended.txt
    -rw-r----- 1 syoung bioinfo 2.9G Jan 15 15:31 s_2_eland_multi.txt
    -rw-r----- 1 syoung bioinfo 4.4G Jan 15 15:47 s_2_export.txt
    -rw-r--r-- 1 syoung bioinfo 3.4G Mar 15 17:19 s_2_sequence.txt
    -rw-r----- 1 syoung bioinfo 3.4G Jan 15 15:18 s_3_eland_extended.txt
    -rw-r----- 1 syoung bioinfo 3.2G Jan 15 15:33 s_3_eland_multi.txt
    -rw-r----- 1 syoung bioinfo 4.9G Jan 15 15:50 s_3_export.txt
    -rw-r--r-- 1 syoung bioinfo 3.5G Mar 15 17:21 s_3_sequence.txt
    -rw-r----- 1 syoung bioinfo 3.3G Jan 15 15:20 s_4_eland_extended.txt
    -rw-r----- 1 syoung bioinfo 3.1G Jan 15 15:35 s_4_eland_multi.txt
    -rw-r----- 1 syoung bioinfo 4.7G Jan 15 15:53 s_4_export.txt
    -rw-r--r-- 1 syoung bioinfo 3.5G Mar 15 17:23 s_4_sequence.txt
    
    -rw-r----- 1 syoung bioinfo 3.3G Mar 15 20:21 s_5_eland_extended.txt    <= LANE 
    -rw-r----- 1 syoung bioinfo 3.2G Mar 15 20:23 s_5_eland_multi.txt       <= 6 
    -rw-r----- 1 syoung bioinfo 4.6G Mar 15 20:27 s_5_export.txt            <= RUN 
    -rwxr-x--- 1 syoung bioinfo 3.5G Mar 15 19:30 s_5_sequence.txt          <= 100121_HWUSI-EAS1687R_0003_616GJAAXX

    -rw-r----- 1 syoung bioinfo 3.1G Jan 15 15:24 s_6_eland_extended.txt
    -rw-r----- 1 syoung bioinfo 2.9G Jan 15 15:38 s_6_eland_multi.txt
    -rw-r----- 1 syoung bioinfo 4.4G Jan 15 15:58 s_6_export.txt
    -rw-r--r-- 1 syoung bioinfo 3.5G Mar 15 17:25 s_6_sequence.txt
    -rw-r----- 1 syoung bioinfo 3.0G Jan 15 15:25 s_7_eland_extended.txt
    -rw-r----- 1 syoung bioinfo 2.8G Jan 15 15:40 s_7_eland_multi.txt
    -rw-r----- 1 syoung bioinfo 4.3G Jan 15 16:01 s_7_export.txt
    -rw-r--r-- 1 syoung bioinfo 3.4G Mar 15 17:27 s_7_sequence.txt
    -rw-r----- 1 syoung bioinfo 3.1G Jan 15 15:27 s_8_eland_extended.txt
    -rw-r----- 1 syoung bioinfo 3.0G Jan 15 15:42 s_8_eland_multi.txt
    -rw-r----- 1 syoung bioinfo 4.6G Jan 15 16:04 s_8_export.txt
    -rw-r--r-- 1 syoung bioinfo 3.2G Mar 15 17:28 s_8_sequence.txt


COPIED OVER LANE 6 FROM RUN 100121_HWUSI-EAS1687R_0003_616GJAAXX TO 'MISSING LANE 5':

LANE 6
======

emacs /q/solexa_xfer/100121_HWUSI-EAS1687R_0003_616GJAAXX/RunInfo.xml

    <?xml version="1.0"?>
    <RunInfo>
      <Run Id="100121_HWUSI-EAS1687R_0003_616GJAAXX" Number="3">
        <Instrument>HWUSI-EAS1687R</Instrument>
        <Cycles Incorporation="54" Cleavage="0" ReadPrep="0" />
        <Tiles>
          <Lane Index="1" Incorporation="120" ReadPrep="0" />
          <Lane Index="2" Incorporation="120" ReadPrep="0" />
          <Lane Index="3" Incorporation="120" ReadPrep="0" />
          <Lane Index="4" Incorporation="120" ReadPrep="0" />
          <Lane Index="5" Incorporation="120" ReadPrep="0" />
          <Lane Index="6" Incorporation="120" ReadPrep="0" />
          <Lane Index="7" Incorporation="120" ReadPrep="0" />
          <Lane Index="8" Incorporation="120" ReadPrep="0" />
        </Tiles>
        <Reads>
          <Read FirstCycle="1" LastCycle="54" />
        </Reads>
        <ActualIndex />
      </Run>
    </RunInfo>


em  /q/solexa_xfer/100121_HWUSI-EAS1687R_0003_616GJAAXX/Data/Status.xml

    <?xml-stylesheet type='text/xsl' href='Status.xsl'?>
    <Status>
      <Software>Illumina RTA 1.5.35.0</Software>
      <RunName>100121_HWUSI-EAS1687R_0003_616GJAAXX</RunName>
      <InstrumentName>HWUSI-EAS1687R</InstrumentName>
      <RunStarted>Thursday, January 21, 2010 12:25 AM</RunStarted>
      <NumCycles>54</NumCycles>
      <ImgCycle>0</ImgCycle>
      <ScoreCycle>0</ScoreCycle>
      <CallCycle>0</CallCycle>
      <InputDir>D:\Runs\100121_HWUSI-EAS1687R_0003_616GJAAXX</InputDir>
      <OutputDir>S:\pipeline_in\100121_HWUSI-EAS1687R_0003_616GJAAXX</OutputDir>
      <Configuration>
        <CopyAllFiles>True</CopyAllFiles>
        <CopyImages>True</CopyImages>
        <DeleteImages>True</DeleteImages>
        <DeleteIntensity>True</DeleteIntensity>
        <RunInfoExists>True</RunInfoExists>
        <IsPairedEndRun>False</IsPairedEndRun>
        <NumberOfReads>1</NumberOfReads>
        <NumberOfLanes>8</NumberOfLanes>
        <TilesPerLane>120</TilesPerLane>
        <ControlLane>5</ControlLane>
      </Configuration>
    </Status>


emacs /q/solexa_xfer/100121_HWUSI-EAS1687R_0003_616GJAAXX/Data/Intensities/BaseCalls/GERALD_12-02-2010_jcabrera1/config.txt
    
    5:ANALYSIS eland_extended
    5:ELAND_GENOME /q/nextGen/GA/refSeqs/control/phiXgenome
    6:SEQUENCE_FORMAT --fastq
    6:ANALYSIS eland_rna
    6:ELAND_RNA_GENOME_SPLICE /q/nextGen/GA/refSeqs/genomes/mouse_RNA/splice
    6:ELAND_RNA_GENOME_CONTAM /q/nextGen/GA/refSeqs/genomes/mouse_RNA/contam
    6:ELAND_GENOME /q/nextGen/GA/refSeqs/genomes/mouse
    USE_BASES nY*n


        NB: LANES 1-4,7-8 WERE DONE IN THE SECOND GERALD FOLDER:
        
        Q:\solexa_xfer\100121_HWUSI-EAS1687R_0003_616GJAAXX\Data\Intensities\BaseCalls\GERALD_12-02-2010_jcabrera1.2
        
        emacs /q/solexa_xfer/100121_HWUSI-EAS1687R_0003_616GJAAXX/Data/Intensities/BaseCalls/GERALD_12-02-2010_jcabrera1.2/config.txt
            
            5:ANALYSIS eland_extended
            5:ELAND_GENOME /q/nextGen/GA/refSeqs/control/phiXgenome
            123478:ANALYSIS eland_rna
            123478:ELAND_RNA_GENOME_SPLICE /q/nextGen/GA/refSeqs/genomes/mouse_RNA/splice
            123478:ELAND_RNA_GENOME_CONTAM /q/nextGen/GA/refSeqs/genomes/mouse_RNA/contam
            123478:ELAND_GENOME /q/nextGen/GA/refSeqs/genomes/mouse
            SEQUENCE_FORMAT --fastq
            USE_BASES nY*n


WIKI ENTRY
http://gouda.ccs.miami.edu:8090/display/NextGen/100121_616GJAAXX

    ?? Paired End Run ??
    
    Run: 616GJAAXX_Lemmon/Bixby Samples
    Data location:Q:\solexa_xfer\100121_HWUSI-EAS1687R_0003_616GJAAXX    
    lane 6

        Lane      Sample (Investigator) Conc.
        1         DRG #1 (Lemmon)      6 pM
        2         DRG #1 (Lemmon)      8 pM
        3         DRG 9-09 (Lemmon)    6 pM
        4         DRG 9-09(Lemmon)	   8 pM
        5         PhiX                 8 pM
        6         CSPG 9.3.09 (Bixby)  8 pM
        7         E27-2DIV(Lemmon)	   8 pM
        8         E27-2DIV (Lemmon)	   8 pM
    
    For this run we performed a v4 single-read run of 54 cycles. One v4 36-cycle kit and one v4 18-cycle kit were combined into one for each read of this run.  Pipeline v1.5 SCS v2.5 This is also our first run on the 2nd Genome Analyzer.


LANES 1-5,7-8 ARE IN GERALD_12-02-2010_jcabrera1.2
==================================================

ll /q/solexa_xfer/100121_HWUSI-EAS1687R_0003_616GJAAXX/Data/Intensities/BaseCalls/GERALD_12-02-2010_jcabrera1.2/

    -rwxrwx---+ 1 jcabrera1 mihg   359 Feb 12 17:16 config.txt
    -rwxrwx---+ 1 jcabrera1 mihg  6.3K Feb 12 17:16 config.xml
    -rwxrwx---+ 1 jcabrera1 mihg   72K Feb 13 09:59 Error.htm
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 13 10:02 finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg   94K Feb 13 09:59 FullError.htm
    -rwxrwx---+ 1 jcabrera1 mihg   92K Feb 13 09:59 FullPerfect.htm
    -rwxrwx---+ 1 jcabrera1 mihg  599K Feb 13 10:02 GeraldSummary.xml
    -rwxrwx---+ 1 jcabrera1 mihg  156K Feb 12 17:16 Makefile
    -rwxrwx---+ 1 jcabrera1 mihg   71K Feb 13 09:59 Perfect.htm
    drwxrwx---+ 2 jcabrera1 mihg  128K Feb 13 09:59 Plots
    -rwxrwx---+ 1 jcabrera1 mihg  2.4G Feb 12 21:18 s_1_1_eland_query.txt
    -rwxrwx---+ 1 jcabrera1 mihg  1.6G Feb 13 00:38 s_1_calsaf.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.5G Feb 12 21:46 s_1_eland_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.2G Feb 12 23:56 s_1_eland_extended.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.1G Feb 12 23:37 s_1_eland_multi.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.8G Feb 12 21:39 s_1_eland_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  4.5G Feb 13 01:00 s_1_export.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.6G Feb 12 22:49 s_1_extended_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.9G Feb 12 22:49 s_1_extended_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 13 01:22 s_1_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg   27M Feb 12 22:16 s_1_frag_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg   58M Feb 12 22:16 s_1_frag_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  184M Feb 12 23:49 s_1_frag.txt
    -rwxrwx---+ 1 jcabrera1 mihg  6.7K Feb 13 01:07 s_1_qcalreport.txt
    -rwxrwx---+ 1 jcabrera1 mihg    29 Feb 13 01:12 s_1_score_files.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.1G Feb 12 21:18 s_1_sequence.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.5G Feb 13 01:22 s_1_sorted.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.6G Feb 12 21:19 s_2_1_eland_query.txt
    -rwxrwx---+ 1 jcabrera1 mihg  1.7G Feb 13 02:22 s_2_calsaf.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.7G Feb 12 22:03 s_2_eland_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.5G Feb 13 01:40 s_2_eland_extended.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.3G Feb 13 01:31 s_2_eland_multi.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.0G Feb 12 22:07 s_2_eland_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  4.8G Feb 13 02:45 s_2_export.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.7G Feb 12 22:59 s_2_extended_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.0G Feb 12 22:50 s_2_extended_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 13 03:08 s_2_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg   29M Feb 12 22:25 s_2_frag_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg   62M Feb 12 22:22 s_2_frag_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  197M Feb 13 01:34 s_2_frag.txt
    -rwxrwx---+ 1 jcabrera1 mihg  6.7K Feb 13 02:50 s_2_qcalreport.txt
    -rwxrwx---+ 1 jcabrera1 mihg    29 Feb 13 02:57 s_2_score_files.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.2G Feb 12 21:18 s_2_sequence.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.7G Feb 13 03:08 s_2_sorted.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.3G Feb 12 21:36 s_3_1_eland_query.txt
    -rwxrwx---+ 1 jcabrera1 mihg  1.5G Feb 13 03:54 s_3_calsaf.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.3G Feb 12 22:03 s_3_eland_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.1G Feb 13 03:15 s_3_eland_extended.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.0G Feb 13 03:04 s_3_eland_multi.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.6G Feb 12 22:07 s_3_eland_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  4.2G Feb 13 04:13 s_3_export.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.4G Feb 12 22:48 s_3_extended_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.7G Feb 12 22:58 s_3_extended_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 13 04:36 s_3_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg   25M Feb 12 22:32 s_3_frag_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg   57M Feb 12 22:35 s_3_frag_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  201M Feb 13 03:08 s_3_frag.txt
    -rwxrwx---+ 1 jcabrera1 mihg  6.7K Feb 13 04:18 s_3_qcalreport.txt
    -rwxrwx---+ 1 jcabrera1 mihg    29 Feb 13 04:25 s_3_score_files.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.4G Feb 12 21:18 s_3_sequence.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.8G Feb 13 04:36 s_3_sorted.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.4G Feb 12 21:38 s_4_1_eland_query.txt
    -rwxrwx---+ 1 jcabrera1 mihg  1.7G Feb 13 05:34 s_4_calsaf.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.5G Feb 12 22:07 s_4_eland_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.4G Feb 13 04:52 s_4_eland_extended.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.2G Feb 13 04:41 s_4_eland_multi.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.8G Feb 12 22:09 s_4_eland_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  4.5G Feb 13 05:55 s_4_export.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.6G Feb 12 22:58 s_4_extended_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.9G Feb 12 23:07 s_4_extended_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 13 06:18 s_4_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg   27M Feb 12 22:45 s_4_frag_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg   61M Feb 12 22:46 s_4_frag_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  215M Feb 13 04:45 s_4_frag.txt
    -rwxrwx---+ 1 jcabrera1 mihg  6.7K Feb 13 05:59 s_4_qcalreport.txt
    -rwxrwx---+ 1 jcabrera1 mihg    29 Feb 13 06:07 s_4_score_files.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.5G Feb 12 21:18 s_4_sequence.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.8G Feb 13 06:18 s_4_sorted.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.3G Feb 12 21:36 s_5_1_eland_query.txt
    -rwxrwx---+ 1 jcabrera1 mihg  1.5G Feb 13 05:27 s_5_calsaf.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.8G Feb 13 04:57 s_5_eland_extended.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.8G Feb 13 04:49 s_5_eland_multi.txt
    -rwxrwx---+ 1 jcabrera1 mihg  4.2G Feb 13 05:47 s_5_export.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 13 06:19 s_5_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg   83M Feb 13 04:51 s_5_frag.txt
    -rwxrwx---+ 1 jcabrera1 mihg    65 Feb 12 20:52 s_5_genomesize.xml
    -rwxrwx---+ 1 jcabrera1 mihg  6.7K Feb 13 05:51 s_5_qcalreport.txt
    -rwxrwx---+ 1 jcabrera1 mihg    29 Feb 13 05:58 s_5_score_files.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.6G Feb 12 21:18 s_5_sequence.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.3G Feb 13 06:19 s_5_sorted.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 12 21:01 s_6_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.2G Feb 12 21:36 s_7_1_eland_query.txt
    -rwxrwx---+ 1 jcabrera1 mihg  1.3G Feb 13 07:31 s_7_calsaf.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.3G Feb 12 22:25 s_7_eland_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.8G Feb 13 07:02 s_7_eland_extended.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.7G Feb 13 06:55 s_7_eland_multi.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.5G Feb 12 22:11 s_7_eland_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.9G Feb 13 07:50 s_7_export.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.3G Feb 12 23:05 s_7_extended_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.5G Feb 12 23:05 s_7_extended_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 13 08:02 s_7_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg   24M Feb 12 22:46 s_7_frag_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg   60M Feb 12 22:45 s_7_frag_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  207M Feb 13 06:57 s_7_frag.txt
    -rwxrwx---+ 1 jcabrera1 mihg  6.8K Feb 13 07:53 s_7_qcalreport.txt
    -rwxrwx---+ 1 jcabrera1 mihg    29 Feb 13 07:59 s_7_score_files.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.4G Feb 12 21:18 s_7_sequence.txt
    -rwxrwx---+ 1 jcabrera1 mihg  1.5G Feb 13 08:02 s_7_sorted.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.2G Feb 12 21:38 s_8_1_eland_query.txt
    -rwxrwx---+ 1 jcabrera1 mihg  1.3G Feb 13 09:31 s_8_calsaf.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.3G Feb 12 22:36 s_8_eland_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.8G Feb 13 09:02 s_8_eland_extended.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.6G Feb 13 08:56 s_8_eland_multi.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.5G Feb 12 22:36 s_8_eland_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.9G Feb 13 09:49 s_8_export.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.3G Feb 12 23:06 s_8_extended_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.5G Feb 12 23:07 s_8_extended_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 13 10:02 s_8_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg   24M Feb 12 22:56 s_8_frag_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg   60M Feb 12 22:56 s_8_frag_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  205M Feb 13 08:57 s_8_frag.txt
    -rwxrwx---+ 1 jcabrera1 mihg  6.8K Feb 13 09:53 s_8_qcalreport.txt
    -rwxrwx---+ 1 jcabrera1 mihg    29 Feb 13 09:58 s_8_score_files.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.4G Feb 12 21:39 s_8_sequence.txt
    -rwxrwx---+ 1 jcabrera1 mihg  1.5G Feb 13 10:02 s_8_sorted.txt
    -rwxrwx---+ 1 jcabrera1 mihg  144K Feb 13 10:02 Summary.htm
    -rwxrwx---+ 1 jcabrera1 mihg  1.1M Feb 13 10:02 Summary.xml
    -rwxrwx---+ 1 jcabrera1 mihg   19K Feb 13 10:02 Summary.xsl
    drwxrwx---+ 3 jcabrera1 mihg  256K Feb 13 10:03 Temp
    -rwxrwx---+ 1 jcabrera1 mihg  8.5K Feb 12 20:24 tiles.txt




LANES 5 & 6 ARE IN GERALD_12-02-2010_jcabrera1
==============================================

ll 100121_HWUSI-EAS1687R_0003_616GJAAXX/Data/Intensities/BaseCalls/GERALD_12-02-2010_jcabrera1

    -rwxrwx---+ 1 jcabrera1 mihg   343 Feb 12 16:27 config.txt
    -rwxrwx---+ 1 jcabrera1 mihg  5.1K Feb 12 16:27 config.xml
    -rwxrwx---+ 1 jcabrera1 mihg   24K Feb 12 21:10 Error.htm
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 12 21:23 finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg   30K Feb 12 21:10 FullError.htm
    -rwxrwx---+ 1 jcabrera1 mihg   30K Feb 12 21:10 FullPerfect.htm
    -rwxrwx---+ 1 jcabrera1 mihg  176K Feb 12 21:23 GeraldSummary.xml
    -rwxrwx---+ 1 jcabrera1 mihg   86K Feb 12 16:27 Makefile
    -rwxrwx---+ 1 jcabrera1 mihg   23K Feb 12 21:10 Perfect.htm
    drwxrwx---+ 2 jcabrera1 mihg   32K Feb 12 21:10 Plots
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 12 16:45 s_1_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 12 16:45 s_2_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 12 16:45 s_3_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 12 16:45 s_4_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.3G Feb 12 17:02 s_5_1_eland_query.txt
    -rwxrwx---+ 1 jcabrera1 mihg  1.5G Feb 12 17:58 s_5_calsaf.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.8G Feb 12 17:26 s_5_eland_extended.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.8G Feb 12 17:13 s_5_eland_multi.txt
    -rwxrwx---+ 1 jcabrera1 mihg  4.2G Feb 12 18:19 s_5_export.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 12 18:55 s_5_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg   83M Feb 12 17:17 s_5_frag.txt
    -rwxrwx---+ 1 jcabrera1 mihg    65 Feb 12 16:36 s_5_genomesize.xml
    -rwxrwx---+ 1 jcabrera1 mihg  6.7K Feb 12 18:24 s_5_qcalreport.txt
    -rwxrwx---+ 1 jcabrera1 mihg    29 Feb 12 18:31 s_5_score_files.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.6G Feb 12 17:02 s_5_sequence.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.3G Feb 12 18:55 s_5_sorted.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.5G Feb 12 17:03 s_6_1_eland_query.txt
    -rwxrwx---+ 1 jcabrera1 mihg  1.6G Feb 12 20:33 s_6_calsaf.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.5G Feb 12 17:14 s_6_eland_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.3G Feb 12 19:51 s_6_eland_extended.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.2G Feb 12 19:41 s_6_eland_multi.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.8G Feb 12 17:14 s_6_eland_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  4.6G Feb 12 20:55 s_6_export.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.6G Feb 12 17:22 s_6_extended_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.9G Feb 12 17:25 s_6_extended_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 12 21:23 s_6_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg   28M Feb 12 17:16 s_6_frag_contam.txt
    -rwxrwx---+ 1 jcabrera1 mihg   58M Feb 12 17:17 s_6_frag_splice.txt
    -rwxrwx---+ 1 jcabrera1 mihg  199M Feb 12 19:44 s_6_frag.txt
    -rwxrwx---+ 1 jcabrera1 mihg  6.7K Feb 12 21:00 s_6_qcalreport.txt
    -rwxrwx---+ 1 jcabrera1 mihg    29 Feb 12 21:09 s_6_score_files.txt
    -rwxrwx---+ 1 jcabrera1 mihg  3.5G Feb 12 17:03 s_6_sequence.txt
    -rwxrwx---+ 1 jcabrera1 mihg  2.9G Feb 12 21:23 s_6_sorted.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 12 16:45 s_7_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg     0 Feb 12 16:45 s_8_finished.txt
    -rwxrwx---+ 1 jcabrera1 mihg  137K Feb 12 21:23 Summary.htm
    -rwxrwx---+ 1 jcabrera1 mihg  528K Feb 12 21:23 Summary.xml
    -rwxrwx---+ 1 jcabrera1 mihg   19K Feb 12 21:23 Summary.xsl
    -rwxrwx---+ 1 whulme    mihg     0 Feb 18 10:24 temp
    drwxrwx---+ 3 jcabrera1 mihg   64K Feb 12 21:24 Temp
    -rwxrwx---+ 1 yedwards  mihg     0 Feb 15 10:47 test
    -rwxrwx---+ 1 jcabrera1 mihg  8.5K Feb 12 16:29 tiles.txt


COPY LANE 6 TO pipeline/bixby/run1 BIXBY DATA 'lane 5':

cp /q/solexa_xfer/100121_HWUSI-EAS1687R_0003_616GJAAXX/Data/Intensities/BaseCalls/GERALD_12-02-2010_jcabrera1/s_6_sequence.txt /nethome/syoung/base/pipeline/bixby/run1/data/s_5_sequence.txt

cp /q/solexa_xfer/100121_HWUSI-EAS1687R_0003_616GJAAXX/Data/Intensities/BaseCalls/GERALD_12-02-2010_jcabrera1/s_6_eland_extended.txt /nethome/syoung/base/pipeline/bixby/run1/data/s_5_eland_extended.txt

cp /q/solexa_xfer/100121_HWUSI-EAS1687R_0003_616GJAAXX/Data/Intensities/BaseCalls/GERALD_12-02-2010_jcabrera1/s_6_eland_multi.txt /nethome/syoung/base/pipeline/bixby/run1/data/s_5_eland_multi.txt

cp /q/solexa_xfer/100121_HWUSI-EAS1687R_0003_616GJAAXX/Data/Intensities/BaseCalls/GERALD_12-02-2010_jcabrera1/s_6_export.txt /nethome/syoung/base/pipeline/bixby/run1/data/s_5_export.txt



COPY LANE 6 TO data/sequence/labs/bixby/run1 BIXBY DATA 'lane 5':

cp /q/solexa_xfer/100121_HWUSI-EAS1687R_0003_616GJAAXX/Data/Intensities/BaseCalls/GE
RALD_12-02-2010_jcabrera1/s_6_sequence.txt /nethome/bioinfo/data/sequence/labs/bixby/run1/data/s_5_sequence.txt


Notes-project47-transcriptome.txt



USE MAQ.pl TO PREDICT SNPs


mkdir -p /p/NGS/syoung/base/pipeline/maq/sample1
cd /p/NGS/syoung/base/pipeline/maq/sample1

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/MAQ.pl \
--convert \
--outputdir /p/NGS/syoung/base/pipeline/maq/sample1 \
--matefile /nethome/bioinfo/data/sequence/demo/maq/inputs/s_1_2_sequence.100000.txt \
--inputfile /nethome/bioinfo/data/sequence/demo/maq/inputs/s_1_1_sequence.100000.txt \
--referencedir /nethome/bioinfo/data/sequence/chromosomes/human-bfa \
--jobs 30 \
--reads 10000



cd /mihg/users/yedwards/.aqwa/Project1/Workflow1/sample1

perl /nethome/bioinfo/apps/agua/0.4/bin/apps/MAQ.pl \
--convert \
--outputdir /mihg/users/yedwards/.aqwa/Project1/Workflow1/sample1 \
--matefile /nethome/bioinfo/data/sequence/demo/maq/inputs/s_1_2_sequence.100000.txt \
--inputfile /nethome/bioinfo/data/sequence/demo/maq/inputs/s_1_1_sequence.100000.txt \
--referencedir /nethome/bioinfo/data/sequence/chromosomes/human-bfa \
--jobs 30 \
--reads 10000



</entry>



<entry [Wed Feb 10 00:37:13 EST 2010] BIXBY DATA>




RUN 1, SEVEN LANES
==================

WIKI

http://gouda.ccs.miami.edu:8090/display/NextGen/091029_42BNYAAXX

Analysis location: Q:\nextGen\GA\EXTERNAL\Bixby\mRNAseq_1x50\091029_HWI-EAS185_0005_42BNYAAXX 
DO NOT USE BASECALLS FROM Original Data location because this data was generated by RTA 1.4 and we could not set control lane...therefore the images were reprocessed. 

Pipeline v1.4 SCS v2.4

Lane 	Sample       	Conc.
1	CGN LN 7.31.09 	8 pM
2	CGN LN 7.31.09 	8 pM
3	CGN LN 9.3.09 	8 pM
4	CGN LN 9.3.09 	8 pM
5	PhiX 	8 pM
6	CGN CSPG 7.31.09 	8 pM
7	CGN CSPG 7.31.09 	8 pM
8	CGN CSPG 9.3.09 	8 pM


For this run we performed a v2 single-read of 54 cycles. A v3 36 cycle kit and a v3 18 cycle kit were combined into one for this run.


CURRENT LOCATION

Q:\nextGen\GA\EXTERNAL\Bixby\mRNAseq_1x50


/q/nextGen/GA/EXTERNAL/Bixby/mRNAseq_1x50/091029_HWI-EAS185_0005_42BNYAAXX/Data/C1-54_Firecrest1.4.0_15-12-2009_jcabrera1/Bustard1.4.0_15-12-2009_jcabrera1/GERALD_15-12-2009_jcabrera1


Run: Bixby Samples
Data location S:\pipeline_out\091029_HWI-EAS185_0005_42BNYAAXX
FlowCell ID: 42M2AAAXX
Paired End Run
http://gouda.ccs.miami.edu:8090/display/NextGen/091029_42BNYAAXX

Sample          Lane        
CGN LN          1,2,3,4
CGN CSPG        6,7,8

For this run we performed a single-read of 54 cycles. A 36 cycle kit and 18 cycle kit were combined into one for this run.


emacs /q/nextGen/GA/EXTERNAL/Bixby/mRNAseq_1x50/091029_HWI-EAS185_0005_42BNYAAXX/RunInfo.xml
    
    <?xml version="1.0"?>
    <RunInfo>
      <Run Id="091029_HWI-EAS185_0005_42BNYAAXX" Number="5">
        <Instrument>HWI-EAS185</Instrument>
        <Cycles Incorporation="54" Cleavage="0" ReadPrep="0" />
        <Tiles>
          <Lane Index="1" Incorporation="120" ReadPrep="0" />
          <Lane Index="2" Incorporation="120" ReadPrep="0" />
          <Lane Index="3" Incorporation="120" ReadPrep="0" />
          <Lane Index="4" Incorporation="120" ReadPrep="0" />
          <Lane Index="5" Incorporation="120" ReadPrep="0" />
          <Lane Index="6" Incorporation="120" ReadPrep="0" />
          <Lane Index="7" Incorporation="120" ReadPrep="0" />
          <Lane Index="8" Incorporation="120" ReadPrep="0" />
        </Tiles>
        <Reads>
          <Read FirstCycle="1" LastCycle="54" />
        </Reads>
        <ActualIndex />
      </Run>
    </RunInfo>





GERALD FILE

rm -fr /nethome/bioinfo/data/sequence/demo/image2eland/inputs/geraldfile-example.txt
emacs /nethome/bioinfo/data/sequence/demo/image2eland/inputs/geraldfile-example.txt

12345678:ANALYSIS eland_extended
12345678:SEQUENCE_FORMAT --fastq
5:ELAND_GENOME /nethome/bioinfo/data/sequence/controls/phiX-sq
1234678:ELAND_GENOME /nethome/bioinfo/data/sequence/chromosomes/human-sq
12345678:USE_BASES nY*n
ELAND_MULTIPLE_INSTANCES 8




RUN 1 'missing lane', LANE 6 IN LEMMON/BIXBY RUN
================================================

WIKI PAGE
http://gouda.ccs.miami.edu:8090/display/NextGen/100121_616GJAAXX

sample type: CGN CSPG (MISSING LANE FROM RUN 1)


WINDOWS LOCATION:

S:\pipeline_out\100121_HWUSI-EAS1687R_0003_616GJAAXX



Hi Bill,

I was looking for John Bixby's last lane (lane6 in run 100121_HWUSI-EAS1687R_0003_616GJAAXX).

WINDOWS LOCATION:

S:\pipeline_out\100121_HWUSI-EAS1687R_0003_616GJAAXX


But I couldn't find it on the cluster. The closest I came was here but I didn't find any IPAR or Firecrest folders:

/q/solexa_xfer/100121_HWUSI-EAS1687R_0003_616GJAAXX


Here's the other places I checked:

[syoung@u01 syoung]$ ls /q/solexa
090724_HWI-EAS185_42LKBAAXX_TonyMP  091120_HWI-EAS185_0001_42WNPAAXX  100113_HWI-EAS185_0006_616ANAAXX_gwang
091029_HWI-EAS185_0005_42BNYAAXX    091219_HWI-EAS185_0004_4311VAAXX
091104_HWI-EAS185_0006_4312NAAXX    100106_HWI-EAS185_0005_611F3AAXX

[syoung@u01 syoung]$ ls /q/solexa1
090522_HWI-EAS185_0006_42BBFAAXX  091002_HWI-EAS185_0004_Jia6_Holly1

[syoung@u01 syoung]$ ls /q/solexa_xfer/
0205101018-solexa.log  100113_HWI-EAS185_0006_616ANAAXX      100128_HWUSI-EAS1687R_0004_4310GAAXX
0206101342-solexa.log  100121_HWUSI-EAS1687R_0003_616GJAAXX  pipeline_out
0207101131-solexa.log  100126_HWI-EAS185_0007_61F1BAAXX


Are the files stored anywhere else?

Cheers,

Stuart.



